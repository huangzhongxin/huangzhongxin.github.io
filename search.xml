<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[webpackÁöÑÂá†‰∏™Ê†∏ÂøÉÊ¶ÇÂøµ]]></title>
    <url>%2F2019%2F11%2F17%2Fwebpack%E7%9A%84%E5%87%A0%E4%B8%AA%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØwebpack webpackÊú¨Ë¥®‰∏äÊòØ‰∏Ä‰∏™ÊâìÂåÖÂ∑•ÂÖ∑ÔºåÂÆÉ‰ºöÊ†πÊçÆ‰ª£Á†ÅÁöÑÂÜÖÂÆπËß£ÊûêÊ®°Âùó‰æùËµñÔºåÂ∏ÆÂä©Êàë‰ª¨ÊääÂ§ö‰∏™Ê®°ÂùóÁöÑ‰ª£Á†ÅÊâìÂåÖ„ÄÇ‰∏ãÈù¢ÊòØwebpackÂÆòÁΩëÁªôÁöÑ‰∏Ä‰∏™ËØ¥ÊòéÂõæ„ÄÇ Â¶Ç‰∏äÂõæÔºåwebpack ‰ºöÊääÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞ÁöÑÂ§ö‰∏™‰ª£Á†ÅÊ®°ÂùóÔºàÂèØ‰ª•ÊòØ‰∏çÂêåÊñá‰ª∂Á±ªÂûãÔºâÔºåÊâìÂåÖÊûÑÂª∫ÊàêÈ°πÁõÆËøêË°å‰ªÖÈúÄË¶ÅÁöÑÂá†‰∏™ÈùôÊÄÅÊñá‰ª∂ÔºàÂ¶Ç.js„ÄÅ.cssÁ≠âÔºâ„ÄÇ webpack ÂÆâË£Ö webpackÊîØÊåÅ‰ΩøÁî®npmÊàñËÄÖyarnÊñπÂºèËøõË°åÂÆâË£ÖÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÂëΩ‰ª§Êù•‰ΩøÁî®„ÄÇ 123npm install webpack webpack-cli -g # ÊàñËÄÖyarn global add webpack webpack-cli webpackÁöÑÂá†‰∏™Ê†∏ÂøÉÊ¶ÇÂøµ webpackÁöÑÈÖçÁΩÆÊñá‰ª∂ÈÄöÂ∏∏‰∏∫webpack.config.jsÔºåÊîæÁΩÆ‰∫éÈ°πÁõÆÁöÑÊ†πÁõÆÂΩï‰∏≠„ÄÇÊ≠§Â§ñÔºå‰πüËÉΩÂ§ü‰ΩøÁî®webpack --configÊù•ÊåáÂÆö‰ΩøÁî®ÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÈÖçÁΩÆÊñá‰ª∂Â¶Ç‰∏ãÔºö 12345678910111213// webpack.config.jsconst path = requore('path')module.exports = &#123; entry: './src/index.js', // ÊåáÂÆöÂÖ•Âè£Êñá‰ª∂ output: &#123; // ÊåáÂÆöËæìÂá∫Êñá‰ª∂ path: path.resolve(__dirname, '/dist'), filename: 'bundle.js' &#125;, mode: 'development', // ÊåáÂÆöÊûÑÂª∫ÁéØÂ¢É module: &#123;&#125;, // ÈÖçÁΩÆloaders plugins: [] // ÈÖçÁΩÆplugins&#125; ¬∂entry entry Áî®‰∫éÊåáÂÆöÊâìÂåÖÂÖ•Âè£„ÄÇÁõÆÂâçÂÖ•Âè£Êñá‰ª∂Âè™ÊîØÊåÅjsÔºåÂÖ∂ÂÆÉÁöÑÂ¶ÇhtmlÂíåcssÈÉΩ‰∏çÊîØÊåÅ„ÄÇ webpack‰ºöÊääjs„ÄÅcss„ÄÅÂõæÁâáÁ≠âÁ≠âÂΩìÊàê‰∏Ä‰∏™‰∏™Ê®°ÂùóÔºåÂêÑÊ®°ÂùóÈó¥‰ºöÂ≠òÂú®‰∏ÄÁ≥ªÂàóÁöÑ‰æùËµñÂÖ≥Á≥ªÔºåÂú®webpackÈáåÈù¢Ôºå‰ºöÊ†πÊçÆentryÊåáÂÆöÁöÑÊñá‰ª∂ÔºåÊâæÂà∞‰æùËµñÔºåentryÊñá‰ª∂ÁöÑ‰æùËµñ‰πüÂèØËÉΩ‰ºö‰ª•Êù•ÂÖ∂‰ªñÊ®°ÂùóÔºåËøôÊ†∑Â∞±‰ºöÁîüÊàê‰∏ÄÊ£µ‰æùËµñÊ†ë„ÄÇwebpack‰ºöÈÅçÂéÜËøôËØæ‰æùËµñÊ†ëÔºåÈÅçÂéÜÂÆå‰∫ÜÊâç‰ºöÁîüÊàêÊâìÂåÖËµÑÊ∫ê„ÄÇ entryÂèØ‰ª•ÊåáÂÆöÂçïÂÖ•Âè£‰∏éÂ§öÂÖ•Âè£„ÄÇ ¬∂ÂçïÂÖ•Âè£ ÂçïÂÖ•Âè£ÈÄÇÁî®‰∫éÂçïÈ°µÂ∫îÁî®ÔºåÂÖ∂‰ΩøÁî®‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Êù•ÁªôÂÆöÂÖ•Âè£Êñá‰ª∂ÁöÑÂú∞ÂùÄÔºåÂ¶Ç‰∏ãÔºö 1entry: &apos;./src/index.js&apos; ¬∂Â§öÂÖ•Âè£ Â§öÂÖ•Âè£ÈÄÇÁî®‰∫éÂ§öÈ°µÂ∫îÁî®ÔºåÂÖ∂‰ΩøÁî®‰∏Ä‰∏™ÂØπË±°Êù•ÁªôÂÆöÂÖ•Âè£Êñá‰ª∂ÁöÑÂú∞ÂùÄÔºåËØ•ÂØπË±°‰∏∫ÈîÆÂÄºÂØπÁöÑÂΩ¢ÂºèÔºåÈîÆ‰∏∫ÂÖ•Âè£Ê®°ÂùóÁöÑÂêçÂ≠óÔºåÂÄº‰∏∫Êñá‰ª∂Âú∞ÂùÄÂ¶Ç‰∏ãÔºö 12345entry: &#123; app: &apos;./src/app.js&apos;, search: &apos;./src/search.js&apos; // ...&#125; ¬∂output output ÊåáÂÆöÁºñËØëÂêéÁöÑÊñá‰ª∂Â¶Ç‰ΩïËæìÂá∫Âà∞Á£ÅÁõòÔºåÊ≥®ÊÑèÔºåÂç≥‰ΩøÂèØ‰ª•Â≠òÂú®Â§ö‰∏™entryËµ∑ÁÇπÔºå‰ΩÜÂè™ËÉΩÊåáÂÆö‰∏Ä‰∏™outputÈÖçÁΩÆ„ÄÇ outputÁöÑÂÄºÂøÖÈ°ª‰∏∫‰∏Ä‰∏™ÂØπË±°ÔºåÂπ∂‰∏îÂåÖÂê´‰ª•‰∏ã‰∏§‰∏™Â±ûÊÄßÔºö filename Áî®‰∫éËæìÂá∫Êñá‰ª∂ÁöÑÊñá‰ª∂Âêç„ÄÇ path Áî®‰∫éÊåáÂÆöÁõÆÊ†áËæìÂá∫Êñá‰ª∂ÁöÑÁªùÂØπË∑ØÂæÑ„ÄÇ Á§∫‰æãÂ¶Ç‰∏ãÔºö 12345output: &#123; filename: &apos;bundle.js&apos;, path: path.resolve(__dirname, &apos;dist&apos;)&#125;// Ê≠§ÈÖçÁΩÆÂ∞ÜÁîüÊàê‰∏Ä‰∏™ÂçïÁã¨ÁöÑ bundle.js Êñá‰ª∂ËæìÂá∫Âà∞È°πÁõÆÁöÑ /dist ÁõÆÂΩï‰∏≠„ÄÇ ‰ª•‰∏äÁ§∫‰æãÊòØÈíàÂØπÂçïÂÖ•Âè£ÁöÑÈÖçÁΩÆ„ÄÇÂ¶ÇÊûúÊòØÂ§öÂÖ•Âè£ÔºåÂèØ‰ª•‰ΩøÁî®Âç†‰ΩçÁ¨¶[name]Êù•Á°Æ‰øùÊØè‰∏™Êñá‰ª∂ÂÖ∑ÊúâÂîØ‰∏ÄÁöÑÂêçÁß∞„ÄÇ 123456789entry: &#123; app: &apos;./src/app.js&apos;, search: &apos;./src/search.js&apos;&#125;,output: &#123; filename: &apos;[name].js&apos;, path: path.resolve(__dirname, &apos;dist&apos;)&#125;// Ê≠§ÈÖçÁΩÆÂ∞ÜÁîüÊàê‰∏§‰∏™Êñá‰ª∂ ./dist/app.js, ./dist/search.js„ÄÇ ¬∂loaders webpackÂéüÁîüÂè™ÊîØÊåÅjsÂíåjsonÔºåÈÄöËøáloadersÂéªÊîØÊåÅÂÖ∂‰ªñÊñá‰ª∂Á±ªÂûãÔºåÂ¶ÇcssÔºåÂπ∂Êää‰ªñ‰ª¨ËΩ¨Âåñ‰∏∫ÊúâÊïàÊ®°ÂùóÔºåÂπ∂ÂèØ‰ª•Ê∑ªÂä†Âà∞‰æùËµñÂõæ‰∏≠„ÄÇ loaderÊú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊé•ÂèóÊ∫êÊñá‰ª∂‰∏∫ÂèÇÊï∞ÔºåËøîÂõûËΩ¨Êç¢ÂêéÁöÑÁªìÊûú„ÄÇ ¬∂Â∏∏ËßÅÁöÑloader ÂêçÁß∞ Áî®Â§Ñ babel-loader ËΩ¨Êç¢ES6/ES7Á≠âJSÊñ∞ÁâπÊÄßËØ≠Ê≥ï css-loader ÊîØÊåÅ.cssÁöÑËß£ÊûêÂíåÂä†ËΩΩ less-loader Â∞ÜlessËΩ¨Êç¢‰∏∫css ts-loader Â∞ÜTSËΩ¨Êç¢‰∏∫JS ¬∂Áî®Ê≥ï 123456module: &#123; rules: [ // Â∞ÜÈúÄË¶ÅÁöÑloaderÊîæÂú®moduleÂØπË±°ÁöÑrulesÊï∞ÁªÑ‰∏≠ &apos;bable-loader&apos;, // ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®loaderÂêçÁß∞ &#123; test: /\.txt$/, use: &apos;raw-loader&apos; &#125;, // test - ÊåáÂÆöÂåπÈÖçËßÑÂàôÔºåuse - ÊåáÂÆö‰ΩøÁî®ÁöÑloaderÂêçÁß∞ ]&#125; ¬∂plugins pluginÁî®‰∫ébundleÊñá‰ª∂ÁöÑ‰ºòÂåñÔºåËµÑÊ∫êÁÆ°ÁêÜÂíåÁéØÂ¢ÉÂèòÈáèÁöÑÂºïÂÖ•Ôºå‰ΩúÁî®‰∫éÊï¥‰∏™ÊûÑÂª∫ËøáÁ®ã ¬∂Â∏∏ËßÅÁöÑplugin ÂêçÁß∞ Áî®Â§Ñ cleanWebpackPlugin Ê∏ÖÁêÜÊûÑÂª∫ÁõÆÂΩï miniCssExtractPlugin Â∞ÜCSS‰ªébundleÈáåÊèêÂèñÊàê‰∏Ä‰∏™Áã¨Á´ãÁöÑcssÊñá‰ª∂ htmlWebpackPlugin ÂàõÂª∫htmlÊñá‰ª∂ uglifyjsWebpackPlugin ÂéãÁº©js ¬∂Áî®Ê≥ï 123plugins: [ // Â∞Ü‰ΩøÁî®ÁöÑpluginÊîæÂà∞pluginsÊï∞ÁªÑ‰∏≠ new HtmlWebpackPlugin(&#123; template: &apos;./src/index.html&apos; &#125;)] ¬∂mode modeÁî®‰∫éÊåáÂÆöÂΩìÂâçÊûÑÂª∫ÁéØÂ¢ÉÔºåÂèØÂèñÂÄº‰∏∫Ôºödevelopment / production / none ËÆæÁΩÆmodeÂèØ‰ª•‰ΩøÁî®webpackÁöÑ‰∏Ä‰∫õÂÜÖÁΩÆÂáΩÊï∞„ÄÇ ÈÄâÈ°π ÊèèËø∞ development ËÆæÁΩÆprocess.env.NODE_ENVÁöÑÂÄº‰∏∫developmentÔºåÂºÄÂêØNamedChunksPluginÂíåNamedModulesPlugin production ËÆæÁΩÆprocess.env.NODE_ENVÁöÑÂÄº‰∏∫productionÔºåÂºÄÂêØFlagDependencyUsagePluginÔºåFlagIncludedChunksPluginÔºåModuleConcatenationPluginÔºåNoEmitOnErrorPluginÔºåOccurrenceOrderPluginÔºåSideEffectsFlagPluginÔºåTerserPlugin none ‰∏çÂºÄÂêØ‰ªª‰Ωï‰ºòÂåñÈÄâÈ°π ÂÖ≥‰∫épath.resolve([‚Ä¶paths]) Â∞ÜË∑ØÂæÑÊàñË∑ØÂæÑÁâáÊÆµÂ§ÑÁêÜÊàêÁªùÂØπË∑ØÂæÑ„ÄÇ path ‰ªéÂè≥Âà∞Â∑¶‰æùÊ¨°Â§ÑÁêÜÔºåÁõ¥Âà∞ÊûÑÈÄ†Âá∫ÁªùÂØπË∑ØÂæÑ„ÄÇ ‰æãÂ¶ÇÔºåÊåáÂÆöÁöÑË∑ØÂæÑÁâáÊÆµÊòØÔºö/foo„ÄÅ/bar„ÄÅbazÔºåÂàôË∞ÉÁî® path.resolve('/foo', '/bar', 'baz') ‰ºöËøîÂõû /bar/baz„ÄÇ Â¶ÇÊûúÂ§ÑÁêÜÂÆåÂÖ®ÈÉ® path ÁâáÊÆµÂêéËøòÊú™‰∫ßÁîüÁªùÂØπË∑ØÂæÑÔºåÂàôÂä†‰∏äÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩï„ÄÇ ÁîüÊàêÁöÑË∑ØÂæÑ‰ºöËøõË°åËßÑËåÉÂåñÔºåÂπ∂‰∏îÂà†Èô§Êú´Â∞æÁöÑÊñúÊù†ÔºåÈô§ÈùûË∑ØÂæÑÊòØÊ†πÁõÆÂΩï„ÄÇ Á©∫Â≠óÁ¨¶‰∏≤ÁöÑ path ÁâáÊÆµ‰ºöË¢´ÂøΩÁï•„ÄÇ Â¶ÇÊûúÊ≤°ÊúâÊåáÂÆö pathÔºåÂàôËøîÂõûÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩïÁöÑÁªùÂØπË∑ØÂæÑ„ÄÇ nodejs ÂÜÖÁΩÆÁöÑpathÊ®°Âùó Âπ∂Âú®ÂÆÉÂâçÈù¢Âä†‰∏ä __dirnameËøô‰∏™ÂÖ®Â±ÄÂèòÈáè„ÄÇÂèØ‰ª•Èò≤Ê≠¢‰∏çÂêåÊìç‰ΩúÁ≥ªÁªü‰πãÈó¥ÁöÑÊñá‰ª∂Ë∑ØÂæÑÈóÆÈ¢òÔºåÂπ∂‰∏îÂèØ‰ª•‰ΩøÁõ∏ÂØπË∑ØÂæÑÊåâÁÖßÈ¢ÑÊúüÂ∑•‰Ωú„ÄÇ Node.js ‰∏≠Ôºå__dirnameÊÄªÊòØÊåáÂêëË¢´ÊâßË°å js Êñá‰ª∂ÁöÑÁªùÂØπË∑ØÂæÑÔºåÊâÄ‰ª•ÂΩì‰Ω†Âú® /d1/d2/myscript.js Êñá‰ª∂‰∏≠ÂÜô‰∫Ü __dirnameÔºå ÂÆÉÁöÑÂÄºÂ∞±ÊòØ /d1/d2 „ÄÇ]]></content>
      <tags>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|28. ÂÆûÁé∞strStr()]]></title>
    <url>%2F2019%2F09%2F08%2FLeetCode%E9%A2%98%E8%A7%A3-28-%E5%AE%9E%E7%8E%B0strStr%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö28. ÂÆûÁé∞strStr() Ê¶ÇËø∞ ÁªôÂÆö‰∏Ä‰∏™haystackÂ≠óÁ¨¶‰∏≤Âíå‰∏Ä‰∏™needleÂ≠óÁ¨¶‰∏≤ÔºåÂú®haystackÂ≠óÁ¨¶‰∏≤‰∏≠ÊâæÂá∫needleÂ≠óÁ¨¶‰∏≤Âá∫Áé∞ÁöÑÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆ (‰ªé0ÂºÄÂßã)„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂàôËøîÂõû-1„ÄÇ ÊÄùË∑Ø Â≠óÁ¨¶‰∏≤ÂåπÈÖçÔºåÊúâËøô‰πàÂá†ÁßçÊñπÊ≥ïÔºöBFÁÆóÊ≥ï„ÄÅRKÁÆóÊ≥ï„ÄÅBMÁÆóÊ≥ï„ÄÅKMPÁÆóÊ≥ï Êú¨Êñá‰ΩøÁî®‰∫ÜÊúÄÁÆÄÂçïÁöÑBFÁÆóÊ≥ïÔºåÂáªË¥•‰∫Ü90.34%ÁöÑJavaScriptÊèê‰∫§ËÆ∞ÂΩï„ÄÇ ÂÆûÁé∞ 123456789101112131415161718/** * @param &#123;string&#125; haystack * @param &#123;string&#125; needle * @return &#123;number&#125; */var strStr = function(haystack, needle) &#123; if (needle === '' || needle === haystack) &#123; return 0 &#125; const needleLen = needle.length const hayLen = haystack.length for (let i = 0; i &lt;= hayLen - needleLen; i++) &#123; if (haystack.slice(i, needleLen + i) === needle) &#123; return i &#125; &#125; return -1&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|27. ÁßªÈô§ÂÖÉÁ¥†]]></title>
    <url>%2F2019%2F09%2F08%2FLeetCode%E9%A2%98%E8%A7%A3-27-%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö27. ÁßªÈô§ÂÖÉÁ¥† Ê¶ÇËø∞ ÁªôÂÆö‰∏Ä‰∏™Êï∞ÁªÑ nums Âíå‰∏Ä‰∏™ÂÄº valÔºå‰Ω†ÈúÄË¶ÅÂéüÂú∞ÁßªÈô§ÊâÄÊúâÊï∞ÂÄºÁ≠â‰∫é val ÁöÑÂÖÉÁ¥†ÔºåËøîÂõûÁßªÈô§ÂêéÊï∞ÁªÑÁöÑÊñ∞ÈïøÂ∫¶„ÄÇ ÊÄùË∑Ø Ëß£Ê≥ï‰∏éLeetCodeÈ¢òËß£|26. Âà†Èô§ÊéíÂ∫èÊï∞ÁªÑ‰∏≠ÁöÑÈáçÂ§çÈ°πÁ±ª‰ºº„ÄÇ ‰ΩøÁî®ÂèåÊåáÈíàp1„ÄÅp2ÔºåÂÖ∂‰∏≠p1ÊòØÊÖ¢ÊåáÈíà„ÄÅp2ÊòØÂø´ÊåáÈíà„ÄÇ Â¶ÇÊûúval === nums[p2]ÔºåÊàë‰ª¨Â∞±Â¢ûÂä†p2Ë∑≥ËøáËøô‰∏™ÁõÆÊ†áÂÄº Â¶ÇÊûúval !== nums[p2]ÔºåËØ¥ÊòéÂ∑≤ÁªèË∑≥Ëøá‰∫ÜÊâÄÊúâÁõÆÊ†áÂÄºÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÊäänums[p2]ÁöÑÂÄºÂ§çÂà∂Âà∞nums[p1]‰∏≠ÔºåÂπ∂Êääp1ÂæÄÂêéÁßªÂä®„ÄÇ Áõ¥Âà∞p2 === nums.lengthÊó∂ÔºåÁÆóÊ≥ïÁªìÊùü„ÄÇ ÂÆûÁé∞ 123456789101112131415/** * @param &#123;number[]&#125; nums * @param &#123;number&#125; val * @return &#123;number&#125; */var removeElement = function(nums, val) &#123; let p1 = 0 for (let p2 = 0; p2 &lt; nums.length; p2++) &#123; if (val !== nums[p2]) &#123; nums[p1] = nums[p2] p1++ &#125; &#125; return p1&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|26. Âà†Èô§ÊéíÂ∫èÊï∞ÁªÑ‰∏≠ÁöÑÈáçÂ§çÈ°π]]></title>
    <url>%2F2019%2F09%2F08%2FLeetCode%E9%A2%98%E8%A7%A3-26-%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B9%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö26. Âà†Èô§ÊéíÂ∫èÊï∞ÁªÑ‰∏≠ÁöÑÈáçÂ§çÈ°π Ê¶ÇËø∞ È¢òÁõÆÁªôÂÆö‰∏Ä‰∏™ÊéíÂ∫èÊï∞ÁªÑÔºåÈúÄË¶ÅÂú®ÂéüÂú∞Âà†Èô§ÈáçÂ§çÂá∫Áé∞ÁöÑÂÖÉÁ¥†Ôºå‰ΩøÂæóÊØè‰∏™ÂÖÉÁ¥†Âè™Âá∫Áé∞‰∏ÄÊ¨°ÔºåËøîÂõûÁßªÈô§ÂêéÊï∞ÁªÑÁöÑÊñ∞ÈïøÂ∫¶„ÄÇ ÊÄùË∑Ø ‰ΩøÁî®ÂèåÊåáÈíàp1„ÄÅp2ÔºåÂÖ∂‰∏≠p1ÊòØÊÖ¢ÊåáÈíà„ÄÅp2ÊòØÂø´ÊåáÈíà„ÄÇ Â¶ÇÊûúnums[p1] === nums[p2]ÔºåÊàë‰ª¨Â∞±Â¢ûÂä†p2Ë∑≥ËøáÈáçÂ§çÈ°π Â¶ÇÊûúnums[p1] !== nums[p2]ÔºåËØ¥ÊòéÂ∑≤ÁªèË∑≥Ëøá‰∫ÜÊâÄÊúâÈáçÂ§çÈ°πÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÊäänums[p2]ÁöÑÂÄºÂ§çÂà∂Âà∞nums[p1 + 1]‰∏≠ÔºåÂπ∂Êääp1ÂæÄÂêéÁßªÂä®„ÄÇ Áõ¥Âà∞p2 === nums.lengthÊó∂ÔºåÁÆóÊ≥ïÁªìÊùü„ÄÇ Âõ†‰∏∫p1ÊåáÂêëÁöÑÊòØ‰∏çÈáçÂ§çÈ°πÁöÑÊúÄÂêé‰∏Ä‰∏™ÔºåÂõ†Ê≠§ÔºåÊúÄÁªàÁöÑÊï∞ÁªÑÈïøÂ∫¶Â∞±ÊòØp1 + 1„ÄÇ ÂÆûÁé∞ 1234567891011121314151617/** * @param &#123;number[]&#125; nums * @return &#123;number&#125; */var removeDuplicates = function(nums) &#123; if (nums.length &lt; 2) &#123; return nums.length &#125; let p1 = 0 for (let p2 = 0; p2 &lt; nums.length; p2++) &#123; if (nums[p1] !== nums[p2]) &#123; p1++ nums[p1] = nums[p2] &#125; &#125; return p1 + 1&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[js‰∏≠ÁöÑÂá†ÁßçforÂæ™ÁéØ]]></title>
    <url>%2F2019%2F09%2F03%2Fjs%E4%B8%AD%E7%9A%84%E5%87%A0%E7%A7%8Dfor%E5%BE%AA%E7%8E%AF%2F</url>
    <content type="text"><![CDATA[Âú®JSÂàöÂá∫Êù•ÁöÑÊó∂ÂÄôÔºåÊÉ≥Ë¶ÅÈÅçÂéÜ‰∏Ä‰∏™Êï∞ÁªÑÔºåÂèØ‰ª•ÂÉè‰∏ãÈù¢ËøôÊ†∑Ôºö 123for (var i = 0; i &lt; array.length; i++) &#123; conosole.log(array[i])&#125; forEach Âú®ES5‰πãÂêéÔºåÊñ∞Âä†‰∫Ü‰∏Ä‰∏™forEachÊñπÊ≥ïÔºö 123array.forEach(function (item) &#123; console.log(item)&#125;) forEachÁöÑÂÜôÊ≥ïÊØîÂéüÊù•ÁöÑforÂæ™ÁéØÁÆÄÊ¥ÅÔºå‰ΩÜÊòØÂú®ÂÖ∂ÂÜÖÈÉ®ÔºåÂç¥‰∏çËÉΩ‰ΩøÁî®breakÂíåreturnÁªìÊùüÂæ™ÁéØ‰ª•ÂèäcontinueË∑≥ËøáÂæ™ÁéØÔºåÊØîÂ¶ÇÔºö 1234567[1, 2, 3].forEach(function(item)&#123; if(item === 2)&#123; return // ‰ΩøÁî® break Âèä continue Âùá‰ºöÊä•Èîô &#125; console.log(item) // 1 3&#125;) for‚Ä¶in ES5‰∏≠ÔºåËøòÊúâ‰∏Ä‰∏™for...inÂæ™ÁéØÔºåÂÖ∂Áî®Ê≥ïÂ¶Ç‰∏ãÔºö 123for (var index in array) &#123; console.log(array[index])&#125; ‰ΩÜÊòØÔºåfor...inÊúâ‰ª•‰∏ãÂá†‰∏™ÁâπÁÇπÔºö Êûö‰∏æÁöÑÁ¥¢ÂºïindexÊòØÂ≠óÁ¨¶ÂûãÔºå‰∏çËÉΩÁõ¥Êé•ËøõË°åÊï∞Â≠óËøêÁÆóÔºåÂ¶ÇÔºö 12345var sum = 0for (var index in [1, 2, 3]) &#123; sum += index&#125;console.log(sum) // '0012', ËÄå‰∏çÊòØ 3 ‰ºöÂ∞ÜÂéüÂûãÂØπË±°‰πü‰∏ÄËµ∑Êûö‰∏æÂá∫Êù•ÔºåÂ¶ÇÔºö 12345678910111213141516Object.prototype.objCustom = function() &#123;&#125;; Array.prototype.arrCustom = function() &#123;&#125;;var arr = [3, 5, 7];arr.foo = 'bar';for (var i in arr) &#123; console.log(i);&#125;// ËæìÂá∫Ôºö// 0// 1// 2// foo// arrCustom// objCustom Â¶ÇÊûú‰∏çÊÉ≥Êûö‰∏æÂá∫ÂéüÂûãÂØπË±°ÔºåÂèØ‰ª•ÈÖçÂêà‰ΩøÁî®hasOwnPropertyÔºö 12345678910111213141516Object.prototype.objCustom = function() &#123;&#125;; Array.prototype.arrCustom = function() &#123;&#125;;var arr = [3, 5, 7];arr.foo = 'bar';for (var i in arr) &#123; if (arr.hasOwnProperty(i)) &#123; console.log(i) &#125;&#125;// ËæìÂá∫Ôºö// 0// 1// 2// foo Âæ™ÁéØÂá∫Êù•ÁöÑÂ±ûÊÄßÈ°∫Â∫èÂ¶Ç‰∏ãÔºöÂÖàÈÅçÂéÜÂá∫Êï¥Êï∞Â±ûÊÄßÔºàinteger propertiesÔºåÊåâÁÖßÂçáÂ∫èÔºâÔºåÁÑ∂ÂêéÂÖ∂‰ªñÂ±ûÊÄßÊåâÁÖßÂàõÂª∫Êó∂ÂÄôÁöÑÈ°∫Â∫èÈÅçÂéÜÂá∫Êù•„ÄÇ Êï¥Êï∞Â±ûÊÄßÊª°Ë∂≥ String(Math.trunc(Number(prop)) === prop Â¶Ç &quot;49&quot; ÊòØÊï¥Êï∞Â±ûÊÄßÔºåÂõ†‰∏∫ String(Math.trunc(Number('49')) ÁöÑÁªìÊûúËøòÊòØ ‚Äú49‚Äù„ÄÇ &quot;+49&quot; ‰∏çÊòØÊï¥Êï∞Â±ûÊÄßÔºåÂõ†‰∏∫ String(Math.trunc(Number('+49')) ÁöÑÁªìÊûúÊòØ ‚Äú49‚ÄùÔºå‰∏çÊòØ ‚Äú+49‚Äù„ÄÇ ‚Äú1.2‚Äù ‰∏çÊòØÊï¥Êï∞Â±ûÊÄßÔºåÂõ†‰∏∫ String(Math.trunc(Number('1.2')) ÁöÑÁªìÊûúÊòØ ‚Äú1‚ÄùÔºå‰∏çÊòØ ‚Äú1.2‚Äù„ÄÇ ÊØîÂ¶ÇÔºö 12345678910var codes = &#123; "49": "Germany", "41": "Switzerland", "44": "Great Britain", "1": "USA"&#125;for(var code in codes) &#123; console.log(code) // 1, 41, 44, 49&#125; for‚Ä¶of Âú®ES6‰∏≠ÔºåÊñ∞Âä†‰∫Ü‰∏Ä‰∏™for...ofÂæ™ÁéØÔºåÂÖ∂Áî®Ê≥ïÂ¶Ç‰∏ãÔºö 123for (var value of array) &#123; console.log(value)&#125; ‰∏éÂâçÈù¢Âá†ÁßçÊñπÂºèÊØîËæÉÔºåfor...ofÊòØÂæ™ÁéØÊï∞ÁªÑÂÖÉÁ¥†ÊúÄÁÆÄÊ¥ÅÁöÑÊñπÊ≥ïÔºåÈÅøÂÖç‰∫Üfor...inÁöÑÂá†‰∏™‰∏çË∂≥ÔºåÂêåÊó∂‰πüËÉΩÂ§ü‰ΩøÁî®return„ÄÅbreak„ÄÅcontinue for...ofËÉΩÂ§ü‰ΩøÁî®ÁöÑËåÉÂõ¥ÂåÖÊã¨‰∫ÜÊï∞ÁªÑ„ÄÅSet„ÄÅMap„ÄÅÂ≠óÁ¨¶‰∏≤„ÄÅÁ±ªÊï∞ÁªÑÂØπË±°ÔºàÂ¶Çarguments„ÄÅDOM NodeListÂØπË±°Ôºâ„ÄÅ GeneratorÂØπË±°„ÄÇ ¬∂Êï∞ÁªÑ for...ofËÉΩÂ§üÁõ¥Êé•‰ΩøÁî®Âú®Êï∞ÁªÑ‰∏äÔºåÂÖ∂ÈÅçÂéÜÂæóÂà∞ÁöÑÊòØÈîÆÂÄºÔºåËÄå‰∏çÂÉèfor...in‰∏ÄÊ†∑ÂæóÂà∞ÁöÑÊòØÈîÆÂêçÔºö 123456789var arr = ['a', 'b', 'c', 'd']for (var index in arr) &#123; console.log(index) // 0 1 2 3&#125;for (var value of arr) &#123; console.log(value) // a b c d&#125; ÂêåÊó∂Ôºåfor...ofÂè™‰ºöÈÅçÂéÜÊï∞ÁªÑÁöÑÊï∞Â≠óÁ¥¢ÂºïÁöÑÂ±ûÊÄßÔºåËÄåfor...in‰ºöÈÅçÂéÜÊâÄÊúâÂ±ûÊÄßÔºö 12345678910var arr = [3, 5, 7]arr.foo = 'bar'for (var index in arr) &#123; console.log(index) // "0", "1", "2", "foo"&#125;for (var value of arr) &#123; console.log(value) // "3", "5", "7"&#125; ¬∂Set„ÄÅMap Set„ÄÅMapÂú®‰ΩøÁî®for...ofËøõË°åÈÅçÂéÜÁöÑÊó∂ÂÄôÔºåÈ°∫Â∫èÊòØÊåâÁÖßÂêÑ‰∏™ÊàêÂëòÊ∑ªÂä†Âà∞Êï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑÈ°∫Â∫è„ÄÇÂè¶Â§ñÔºåSet ÈÅçÂéÜÊó∂ÔºåËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÂÄºÔºåËÄå Map ÈÅçÂéÜÊó∂ÔºåËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåËØ•Êï∞ÁªÑÁöÑ‰∏§‰∏™ÊàêÂëòÂàÜÂà´‰∏∫ÂΩìÂâç Map ÊàêÂëòÁöÑÈîÆÂêçÂíåÈîÆÂÄº„ÄÇ 12345678910111213141516171819202122232425var engines = new Set(["Gecko", "Trident", "Webkit", "Webkit"])for (var e of engines) &#123; console.log(e)&#125;// Gecko// Trident// Webkitvar es6 = new Map()es6.set("edition", 6)es6.set("committee", "TC39")es6.set("standard", "ECMA-262")for (var [name, value] of es6) &#123; console.log(name + ": " + value)&#125;// edition: 6// committee: TC39// standard: ECMA-262for (var pair of es6) &#123; console.log(pair)&#125;// ['edition', 6]// ['committee', TC39]// ['standard', ECMA-262] ¬∂Â≠óÁ¨¶‰∏≤ Âú®‰ΩøÁî®for...ofÈÅçÂéÜÂ≠óÁ¨¶‰∏≤Êó∂ÔºåËøòËÉΩÂ§üÊ≠£Á°ÆÁöÑËØÜÂà´UnicodeÁºñÁ†ÅÔºö 123456for (var chr of "üò∫üò≤") &#123; console.log(chr) // üò∫, üò≤&#125;for (var chr in "üò∫üò≤") &#123; console.log(chr) // '0', '1', '2', '3' &lt;--- Â∞Ü2‰∏™UnicodeÂ≠óÁ¨¶ËØÜÂà´Êàê‰∫Ü4‰∏™Â≠óÁ¨¶&#125; ¬∂Á±ªÊï∞ÁªÑÂØπË±° Á±ªÊï∞ÁªÑÂØπË±°ÁöÑÈÅçÂéÜÊñπÊ≥ï‰πüÂíåÊï∞ÁªÑ‰∏ÄÊ†∑Ôºö 12345678910111213141516// DOM NodeListÂØπË±°let paras = document.querySelectorAll("p");for (let p of paras) &#123; p.classList.add("test");&#125;// argumentsÂØπË±°function printArgs() &#123; for (let x of arguments) &#123; console.log(x); &#125;&#125;printArgs('a', 'b');// 'a'// 'b' ¬∂ÊôÆÈÄöÂØπË±° for...ofÂπ∂‰∏çËÉΩÂÉèfor...in‰∏ÄÊ†∑Áõ¥Êé•ÈÅçÂéÜÊôÆÈÄöÂØπË±°Ôºö 1234567891011121314151617var es6 = &#123; edition: 6, committee: "TC39", standard: "ECMA-262"&#125;for (var e in es6) &#123; console.log(e)&#125;// edition// committee// standardfor (var e of es6) &#123; console.log(e)&#125;// TypeError: es6 is not iterable Ëß£ÂÜ≥ÊñπÊ≥ïÊúâ‰∏§ÁßçÔºå‰∏ÄÊòØ‰ΩøÁî®Object.entries/Object.keys/Object.valuesÊñπÊ≥ïÁî±ÊôÆÈÄöÂØπË±°ÁîüÊàêÈîÆÂÄºÂØπ/ÈîÆÂêç/ÈîÆÂÄºÊï∞ÁªÑÔºåÁÑ∂ÂêéÈÅçÂéÜËøô‰∏™Êï∞ÁªÑÔºö 12345678910111213141516171819202122232425var es6 = &#123; edition: 6, committee: "TC39", standard: "ECMA-262"&#125;for (var e of Object.entries(es6)) &#123; console.log(e)&#125;// ["edition", 6]// ["committee", "TC39"]// ["standard", "ECMA-262"]for (var e of Object.keys(es6)) &#123; console.log(e + ': ' + es6[e])&#125;// edition: 6// committee: TC39// standard: ECMA-262for (var e of Object.values(es6)) &#123; console.log(e)&#125;// 6// TC39// ECMA-262 Âè¶‰∏ÄÁßçÊòØ‰ΩøÁî®GeneratorÂáΩÊï∞Â∞ÜÂØπË±°ÂåÖË£Ö‰∏Ä‰∏ãÔºö 123456789101112function* entries(obj) &#123; for (let key of Object.keys(obj)) &#123; yield [key, obj[key]]; &#125;&#125;for (let [key, value] of entries(obj)) &#123; console.log(key, '-&gt;', value);&#125;// a -&gt; 1// b -&gt; 2// c -&gt; 3 ÂèÇËÄÉ ES6 In Depth: Iterators and the for-of loop Iterator Âíå for‚Ä¶of Âæ™ÁéØ http://javascript.info/object#the-for-in-loop]]></content>
      <tags>
        <tag>javascript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[arts-week-1]]></title>
    <url>%2F2019%2F09%2F02%2Farts-week-1%2F</url>
    <content type="text"><![CDATA[Algorithm Êú¨Âë®ÂÆåÊàê‰∫ÜLeetCodeÁöÑ‰∏âÈ¢òÁÆÄÂçïÈ¢òÔºö # Title Solution Difficulty Tag 26 Âà†Èô§ÊéíÂ∫èÊï∞ÁªÑ‰∏≠ÁöÑÈáçÂ§çÈ°π js Easy Array 27 ÁßªÈô§ÂÖÉÁ¥† js Easy Array 28 ÂÆûÁé∞strStr() js Easy String Review Êú¨Âë®Áúã‰∫ÜES6 In DepthÁöÑÁ¨¨‰∏ÄÁØáÔºöIterators and the for-of loop Êú¨Êñá‰∏ªË¶ÅÂØπÊØî‰∫Üjs‰∏≠Âá†ÁßçforÂæ™ÁéØÂêÑËá™ÁöÑÁâπÁÇπÔºåÁùÄÈáç‰ªãÁªç‰∫ÜËø≠‰ª£Âô®IteratorsÂíåfor...of„ÄÇ Âè™Ë¶ÅÂÆûÁé∞‰∫Ü[Symbol.iterator]Âèänext()ÊñπÊ≥ïÁöÑÂØπË±°ÔºåÈÉΩÂèØ‰ª•‰ΩøÁî®for...ofËøõË°åËø≠‰ª£„ÄÇ [Symbol.iterator]ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ÂèØËø≠‰ª£ÂØπË±°ÔºåËÄånext()ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ÂΩ¢Â¶Ç{ done: false, value: 1 }ÁöÑÂØπË±°„ÄÇ Âú®‰ΩøÁî®for...ofÂæ™ÁéØÊó∂ÔºåÈ¶ñÂÖà‰ºöË∞ÉÁî®[Symbol.iterator]ÊñπÊ≥ïÔºåÂæóÂà∞‰∏Ä‰∏™ÂèØËø≠‰ª£ÂØπË±°ÔºåÁÑ∂Âêé‰∏çÊñ≠ÊâßË°ånext()ÊñπÊ≥ïÔºåÁõ¥Âà∞next().done === trueÂ∞±‰ºöÂÅúÊ≠¢Âæ™ÁéØ„ÄÇ Tip javascript‰∏≠ÁöÑfor„ÄÅfor...in„ÄÅfor...of„ÄÅwhile„ÄÅdo...whileÂùá‰∏çËÉΩ‰ΩøÁî®returnËØ≠Âè•Ôºå‰ºöÊä•ÈîôSyntaxError: Illegal return statement„ÄÇ git‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®git stashÂ∞Ü‰ª£Á†ÅÂ≠òÂà∞ÊöÇÂ≠òÂå∫‰∏≠ÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÊîæÂøÉÁöÑÂàáÊç¢Âà∞ÂÖ∂‰ªñÂàÜÊîØ‰∫Ü„ÄÇ‰ΩøÁî®git stash popÂèØ‰ª•Â∞ÜÊöÇÂ≠òÂå∫‰∏≠ÁöÑ‰ª£Á†ÅÊÅ¢Â§ç„ÄÇÂèÇËßÅÔºöËøôÁØáÊñáÁ´† Share Êú¨Âë®Áúã‰∫Üjs‰∏≠ÁöÑÂá†ÁßçforÂæ™ÁéØÔºå‰∫ÜËß£‰∫ÜÂá†ÁßçÂæ™ÁéØÁöÑÂå∫Âà´„ÄÇ]]></content>
      <tags>
        <tag>arts</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|775. Global and Local Inversions]]></title>
    <url>%2F2019%2F04%2F16%2FLeetCode%E9%A2%98%E8%A7%A3-775-Global-and-Local-Inversions%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö775. Global and Local Inversions Ê¶ÇËø∞ È¢òÁõÆÁªôÂÆö‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫NÁöÑÊï∞ÁªÑAÔºå‰∏∫[0, 1, ..., N - 1]ÁöÑ‰∏ÄÁßçÊéíÂàó„ÄÇÂÖ®Â±ÄÂÄíÁΩÆÊåáÁöÑÊòØ i,j Êª°Ë∂≥ 0 &lt;= i &lt; j &lt; N Âπ∂‰∏î A[i] &gt; A[j] ÔºåÂ±ÄÈÉ®ÂÄíÁΩÆÊåáÁöÑÊòØiÊª°Ë∂≥ 0 &lt;= i &lt; N Âπ∂‰∏î A[i] &gt; A[i+1] „ÄÇÈóÆËØ•Êï∞ÁªÑÁöÑÂÖ®Â±ÄÂÄíÁΩÆÊòØÂê¶Á≠â‰∫éÂ±ÄÈÉ®ÂÄíÁΩÆ„ÄÇ ÊÄùË∑Ø Ëøô‰∏™ÈóÆÈ¢òÊö¥ÂäõÊ±ÇËß£‰πüÂæàÂ•ΩÂäûÔºåÊåâÁÖßÈ¢òÁõÆË¶ÅÊ±ÇÊâ´Êèè‰∏ãÊï∞ÁªÑÂç≥ÂèØ„ÄÇ 12345678910111213141516171819202122/** * @param &#123;number[]&#125; A * @return &#123;boolean&#125; */var isIdealPermutation = function(A) &#123; var local = 0, global = 0; for(let i = 0; i &lt; A.length - 1; i++)&#123; if(A[i] &gt; A[i + 1])&#123; local++; &#125; &#125; for(let i = 0; i &lt; A.length; i++)&#123; for(let j = i + 1; j &lt; A.length; j++)&#123; if(A[i] &gt; A[j])&#123; global++; &#125; &#125; &#125; return global === local;&#125;; ËøôÊÆµ‰ª£Á†ÅÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫ O(n2)ÔºåÂè™ËÉΩbeat 30%ÔºåÊúâÁÇπÊÖ¢„ÄÇËÄÉËôë‰∏ã‰ºòÂåñ„ÄÇ È¢òÁõÆÁöÑ‰∏§‰∏™Êù°‰ª∂ÂèØ‰ª•ÊÄªÁªì‰∏∫Ôºö ÂΩì0 &lt;= i &lt; i + k &lt; N Âπ∂‰∏î A[i] &gt; A[i + k]Êó∂ÔºåÂàôÂ≠òÂú®ÂÄíÁΩÆ„ÄÇËã•k = 1ÔºåÂàô‰∏∫localÔºåËã•k ‚â• 1ÔºåÂàô‰∏∫global„ÄÇ ‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÂ≠òÂú®k &gt; 1Ôºå‰ΩøÂæóA[i] &gt; A[i + k]ÊàêÁ´ãÔºåÂàô global !== local„ÄÇ ÊúÄÂéüÂßãÁöÑÊï∞ÁªÑÔºå‰∏∫[0, 1, 2, ..., i-1, i, i+1, ..., N-1]ÔºåÂç≥A[i] = i„ÄÇ ÂÅáËÆæÂ≠òÂú®k &gt; 1Ôºå‰ΩøÂæóA[i] &gt; A[i + k]ÊàêÁ´ãÔºå Âàô A[i] != i ‰∏î A[i] &gt; i + 1 Êàñ A[i] &lt; i - 1ÔºåÂç≥|A[i]-i| &gt; 1„ÄÇ Âõ†Ê≠§ÔºåÂè™Ë¶ÅÈÅçÂéÜ‰∏ÄÈÅçÊï∞ÁªÑÂç≥ÂèØÂæóÂà∞Á≠îÊ°à„ÄÇ ÂÆûÁé∞ 123456789101112/** * @param &#123;number[]&#125; A * @return &#123;boolean&#125; */var isIdealPermutation = function(A) &#123; for(let i = 0; i &lt; A.length; i++)&#123; if(Math.abs(A[i] - i) &gt; 1)&#123; return false; &#125; &#125; return true;&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|988. Smallest String Starting From Leaf]]></title>
    <url>%2F2019%2F04%2F16%2FLeetCode%E9%A2%98%E8%A7%A3-988-Smallest-String-Starting-From-Leaf%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö988. Smallest String Starting From Leaf Ê¶ÇËø∞ È¢òÁõÆÁªôÂÆö‰∏ÄÊ£µ‰∫åÂèâÊ†ëÔºåÊØè‰∏™ËäÇÁÇπÂÄº‰∏∫0Âà∞25ÁöÑÂÄºÔºåÂàÜÂà´ÂØπÂ∫îaÂà∞zÔºåÊ±ÇÊ†ë‰∏≠Â≠óÂÖ∏Â∫èÊúÄÂ∞èÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ ÊÄùË∑Ø ‰∏ÄÂºÄÂßãÊÉ≥Âà∞ÁöÑÊñπÊ≥ïÔºåÂ∞±ÊòØÂéªÊ∑±Â∫¶ÈÅçÂéÜÔºåÊØè‰∏™ËäÇÁÇπÂØπÂ∫îÁöÑÂ≠óÁ¨¶‰∏≤‰∏∫min(Â∑¶Â≠êÊ†ëÁöÑÂ≠óÁ¨¶‰∏≤ + ÂΩìÂâçËäÇÁÇπÂÄº, Âè≥Â≠êÊ†ëÁöÑÂ≠óÁ¨¶‰∏≤ + ÂΩìÂâçËäÇÁÇπÂÄº)Ôºå ÂÆûÁé∞‰ª£Á†ÅÂ§ßËá¥Â¶Ç‰∏ãÔºö 123456789101112131415161718192021222324252627282930313233343536/** * Definition for a binary tree node. * function TreeNode(val) &#123; * this.val = val; * this.left = this.right = null; * &#125; *//** * @param &#123;TreeNode&#125; root * @return &#123;string&#125; */var smallestFromLeaf = function(root) &#123; var res = ""; let dfs = (node) =&gt; &#123; if(node === null)&#123; return ''; &#125; let leftStr = dfs(node.left); let rightStr = dfs(node.right); let ch = String.fromCharCode(97 + node.val); var ret = ""; if(leftStr == '' &amp;&amp; rightStr == '')&#123; ret = ch; &#125; else if(leftStr == '' || rightStr == '')&#123; ret = (leftStr != '' ? leftStr : rightStr) + ch; &#125; else&#123; ret = leftStr + ch &lt; rightStr + ch ? leftStr + ch : rightStr + ch; &#125; return ret; &#125;; return dfs(root);&#125;; ‰ΩÜÊòØÔºÅËøôÊÆµ‰ª£Á†ÅÂè™ËÉΩÈÄöËøá66/67ÁöÑÊµãËØïÊ†∑‰æãÔºå 1[25,1,null,0,0,1,null,null,null,0] Ëøô‰∏™Êó†Ê≥ïÈÄöËøá„ÄÇ Âú®Áúã‰∫ÜËØÑËÆ∫Âå∫Â§ßÁ•ûÁöÑËØ¥ÊòéÂêéÔºåÊòéÁôΩ‰∫Ü„ÄÇ ËÄÉËôë ab Âíå abab‰ª•ÂèäËäÇÁÇπÂÄºzÔºåÊòæÁÑ∂Ôºåab &lt; ababÔºåabz &gt; ababz„ÄÇ Êú¨ÊµãËØïÊ†∑‰æãÁöÑÊ†ëÂ¶Ç‰∏ãÔºö ‰∏äËø∞‰ª£Á†ÅÊâßË°åËøáÁ®ãÂ¶Ç‰∏ãÔºö ÈîôËØØÂèëÁîüÂú®Á¨¨‰∫åÂ±ÇÁöÑËäÇÁÇπbÂ§Ñ„ÄÇ Â¶ÇÊûúÂè™‰ª•Â≠êÊ†ëÁöÑÂ≠óÁ¨¶‰∏≤‰∏∫‰æùÊçÆÔºåÁî±‰∫é‰∏çÁü•ÈÅìÂä†‰∏äÁà∂‰∫≤ËäÇÁÇπ‰πãÂêéÔºåÊûÑÊàêÁöÑÂ≠óÂÖ∏Â∫èÊòØÂê¶‰ªçÊòØËæÉÂ∞èÁöÑÈÇ£‰∏™ÔºåÊâÄ‰ª•Âú®ËøôËæπÂèëÁîü‰∫ÜÈîôËØØ„ÄÇ ÊÉ≥Âà∞ËøôÔºå‰πüÂ•Ω‰øÆÊ≠£‰∫ÜÔºåÂè™ÈúÄË¶Å‰º†ÂÖ•Áà∂‰∫≤ËäÇÁÇπÁöÑÂÄºÔºåÂç≥ÂèØ„ÄÇ ÂÆûÁé∞ 123456789101112131415161718192021222324252627282930313233/** * Definition for a binary tree node. * function TreeNode(val) &#123; * this.val = val; * this.left = this.right = null; * &#125; *//** * @param &#123;TreeNode&#125; root * @return &#123;string&#125; */var smallestFromLeaf = function(root) &#123; var res = ""; let dfs = (node, s) =&gt; &#123; if(node === null)&#123; return '&#123;'; // &#123; ÁöÑ ascii Á†ÅÂ§ß‰∫é z &#125; s = String.fromCharCode(97 + node.val) + s; let leftStr = dfs(node.left, s); let rightStr = dfs(node.right, s); var ret = ""; if(leftStr == '&#123;' &amp;&amp; rightStr == '&#123;')&#123; ret = s; &#125; else &#123; ret = leftStr &lt; rightStr ? leftStr : rightStr; &#125; return ret; &#125;; return dfs(root, '');&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|279. Perfect Squares]]></title>
    <url>%2F2019%2F04%2F14%2FLeetCode%E9%A2%98%E8%A7%A3-279-Perfect-Squares%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö279. Perfect Squares Ê¶ÇËø∞ Êú¨È¢òÁõÆË¶ÅÊ±ÇÂ∞Ü‰∏Ä‰∏™ÁªôÂÆöÁöÑÊï∞nÊãÜÂàÜ‰∏∫Ëã•Âπ≤‰∏™Âπ≥ÊñπÊï∞ÁöÑÂíåÔºåÊ±ÇÊúÄÂ∞èÊãÜÂàÜÊï∞„ÄÇ ÊÄùË∑Ø Ëøô‰∏™È¢òÁõÆÂèØ‰ª•Áî®Âä®ÊÄÅËßÑÂàíÊù•ÂÅö„ÄÇ dp[i]‰ª£Ë°®ÁªÑÊàêiÁöÑÊúÄÂ∞ëÂπ≥ÊñπÊï∞ÁöÑ‰∏™Êï∞ÔºåËøô‰∏™ÂÄºÊúÄÂ§ßÂ∞±ÊòØÂÆÉÊú¨Ë∫´ÔºàÁúã‰ΩúÈÉΩÁî±1ÁªÑÊàêÔºâ„ÄÇ ËÄåÁªÑÊàêËøô‰∏™Êï∞ÁöÑÊúÄÂ∞èÂÄºË¶Å‰πàÂ∞±ÊòØÊú¨Ë∫´ÔºåË¶Å‰πàÂ∞±ÊòØÂâçÈù¢Êüê‰∏Ä‰∏™Êï∞+‰∏Ä‰∏™Âπ≥ÊñπÊï∞ÔºàÊâÄ‰ª•Áúã‰ΩúÂÄºÂä†‰∏ä1Ôºâ ÊâÄ‰ª•Áä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ã‰∏∫Ôºödp[i] = min(dp[i - j * j] + 1, dp[i])ÔºàÂÖ∂‰∏≠ j &lt; sqrt(iÔºâ) ÊúâËΩ¨ÁßªÊñπÁ®ãÂêé‰ª£Á†ÅÂ∞±ÂæàÂ•ΩÂÜô‰∫Ü„ÄÇ Ëøô‰∏™È¢òÁõÆËøòÊúâÂè¶Â§ñ‰∏Ä‰∏™Ëß£Ê≥ïÔºåÊòØÂõõÂπ≥ÊñπÂíåÂÆöÁêÜÔºàÂ•ΩÂêßÔºåÊàëÊ≤°Âê¨ËøáÔºåËØªËÄÖÊúâÂÖ¥Ë∂£ÂèØ‰ª•Ëá™Â∑±Á†îÁ©∂‰∏ãÔºâ ÂÆûÁé∞ 1234567891011121314151617181920212223/** * @param &#123;number&#125; n * @return &#123;number&#125; */var numSquares = function(n) &#123; let dp = new Array(n + 1); for(let i = 0; i &lt;= n; i++)&#123; dp[i] = n; &#125; for(let i = 1; i &lt;= n; i++)&#123; let sqrt = Math.floor(Math.sqrt(i)); if(sqrt * sqrt == i)&#123; dp[i] = 1; continue; &#125; dp[i] = n; for(let j = 1; j &lt;= sqrt; j++)&#123; dp[i] = Math.min(dp[i], dp[i - j * j] + 1); &#125; &#125; return dp[n];&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|652. Find Duplicate Subtrees]]></title>
    <url>%2F2019%2F04%2F14%2FLeetCode%E9%A2%98%E8%A7%A3-652-Find-Duplicate-Subtrees%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö652. Find Duplicate Subtrees Ê¶ÇËø∞ Êú¨È¢òÁªôÂÆö‰∏ÄÊ£µ‰∫åÂèâÊ†ëÔºåË¶ÅÊ±ÇÊâæÂá∫ÊâÄÊúâÁöÑÈáçÂ§çÂ≠êÊ†ë„ÄÇ ÊÄùË∑Ø ÂØπËøôÊ£µÊ†ëËøõË°åÂâçÂ∫èÈÅçÂéÜÔºåÂ¶ÇÊûúÊüê‰∏ÄÂ≠êÊ†ëÁöÑÂâçÂ∫èÈÅçÂéÜÂ∫èÂàóÂ∑≤ÁªèÂá∫Áé∞ËøáÔºåËØ¥ÊòéËøôÊ£µÂ≠êÊ†ëÊòØÈáçÂ§çÂá∫Áé∞ÁöÑÔºåÂ∞ÜÂÖ∂Âä†ÂÖ•ÁªìÊûúÈõÜÂç≥ÂèØ„ÄÇ ÂÆûÁé∞ 12345678910111213141516171819202122232425262728293031323334/** * Definition for a binary tree node. * function TreeNode(val) &#123; * this.val = val; * this.left = this.right = null; * &#125; *//** * @param &#123;TreeNode&#125; root * @return &#123;TreeNode[]&#125; */var findDuplicateSubtrees = function(root) &#123; let map = &#123;&#125;; let result = []; let preorder = (node) =&gt; &#123; if(node == null)&#123; return "#"; &#125; let vs = preorder(node.left) + preorder(node.right) + node.val; if(map[vs])&#123; if(map[vs] == 1)&#123; result.push(node); &#125; map[vs] += 1; &#125; else&#123; map[vs] = 1; &#125; return vs; &#125; preorder(root); return result;&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|86. Partition List]]></title>
    <url>%2F2019%2F04%2F14%2FLeetCode%E9%A2%98%E8%A7%A3-86-Partition-List%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö86. Partition List Ê¶ÇËø∞ Ëøô‰∏™È¢òÁõÆÁªôÂÆö‰∏Ä‰∏™ÂçïÈìæË°®L‰ª•Âèä‰∏Ä‰∏™Êï¥Êï∞xÔºå‰ΩøÂæóÊâÄÊúâÂ∞è‰∫éxÁöÑËäÇÁÇπÂú®Â§ß‰∫éÁ≠â‰∫éxÁöÑËäÇÁÇπ‰πãÂâçÔºåÂêåÊó∂Ë¶Å‰øùËØÅÈ°∫Â∫èÂíåÂéüÈìæË°®‰∏ÄËá¥„ÄÇ ÊÄùË∑Ø Ëøô‰∏™È¢òÁõÆÂè™Ë¶ÅÂàõÂª∫‰∏§‰∏™ÈìæË°®ÔºåÈÅçÂéÜ‰∏ÄÈÅçÂéüÈìæË°®LÔºåÂ∞ÜÊâÄÊúâËäÇÁÇπÊåâÁÖßË¶ÅÊ±ÇÔºåÂàÜÂà´ÊèíÂÖ•Âà∞‰∏§‰∏™Êñ∞ÈìæË°®‰∏≠ÔºåÂ∞±ÂÆåÊàê‰∫ÜÂàÜÈöîÔºåÁ¥ßÊé•ÁùÄÂú®Â∞Ü‰∏§ÊÆµÈìæË°®ËøûÊé•Ëµ∑Êù•ÔºåÂç≥ÂèØÂæóÂà∞Á≠îÊ°à„ÄÇ ÂÆûÁé∞ 1234567891011121314151617181920212223242526272829303132333435/** * Definition for singly-linked list. * function ListNode(val) &#123; * this.val = val; * this.next = null; * &#125; *//** * @param &#123;ListNode&#125; head * @param &#123;number&#125; x * @return &#123;ListNode&#125; */var partition = function(head, x) &#123; if(head == null)&#123; return null; &#125; var smaller = p1 = new ListNode(null), larger = p2 = new ListNode(null); while(head != null)&#123; if(head.val &lt; x)&#123; smaller.next = head; smaller = smaller.next &#125; else&#123; larger.next = head; larger = larger.next; &#125; head = head.next; &#125; larger.next = null; smaller.next = p2.next; return p1.next;&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|687. Longest Univalue Path]]></title>
    <url>%2F2019%2F04%2F13%2FLeetCode%E9%A2%98%E8%A7%A3-687-Longest-Univalue-Path%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö687. Longest Univalue Path Ê¶ÇËø∞ ÁªôÂÆö‰∏ÄÊ£µ‰∫åÂèâÊ†ëÔºåÊâæÂá∫Ê†ë‰∏≠ÊúâÁõ∏ÂêåÂÄºÁöÑÊúÄÈïøË∑ØÂæÑÈïøÂ∫¶„ÄÇ ÊÄùË∑Ø ‰ΩøÁî®DFSÔºåÊâæÂá∫ÊØè‰∏™ËäÇÁÇπÁöÑÂ∑¶Âè≥Â≠êÊ†ëÂ∑¶Âè≥‰∏§ËæπÁöÑÊúÄÈïøË∑ØÂæÑÂÄºlrÔºåÂ¶ÇÊûúÂΩìÂâçËäÇÁÇπ‰∏éÂ∑¶(Âè≥)Â≠êÊ†ëÁöÑËäÇÁÇπÂÄºÁõ∏Á≠âÔºåÂàôÂ∞ÜÂΩìÂâçËäÇÁÇπÁöÑÂ∑¶(Âè≥)ÂÄºÂÆö‰∏∫Â∑¶(Âè≥)Â≠êÊ†ëlr‰∏≠ÁöÑÊúÄÂ§ßÂÄº+1„ÄÇ ÂÆûÁé∞ 123456789101112131415161718192021222324252627282930313233343536373839/** * Definition for a binary tree node. * function TreeNode(val) &#123; * this.val = val; * this.left = this.right = null; * &#125; *//** * @param &#123;TreeNode&#125; root * @return &#123;number&#125; */var longestUnivaluePath = function(root) &#123; if(root == null)&#123; return 0; &#125; var maxLength = 0; var dfs = function(node)&#123; if(node == null || (node.left == null &amp;&amp; node.right == null))&#123; return &#123; left: 0, right: 0 &#125;; &#125; const &#123; left: ll, right: lr &#125; = dfs(node.left); const &#123; left: rl, right: rr &#125; = dfs(node.right); var left = 0, right = 0; if(node.left != null &amp;&amp; node.val == node.left.val)&#123; left = Math.max(ll, lr) + 1; &#125; if(node.right != null &amp;&amp; node.val == node.right.val)&#123; right = Math.max(rl, rr) + 1; &#125; maxLength = Math.max(maxLength, left + right); return &#123; left: left, right: right &#125;; &#125; dfs(root); return maxLength;&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|143. Reorder List]]></title>
    <url>%2F2019%2F04%2F13%2FLeetCode%E9%A2%98%E8%A7%A3-143-Reorder-List%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö143. Reorder List Ê¶ÇËø∞ ÁªôÂÆö‰∏Ä‰∏™ÂçïÈìæË°®L: L0‚ÜíL1‚Üí‚Ä¶‚ÜíLn-1‚ÜíLnÔºåÂ∞ÜÂÖ∂ÈáçÊéí‰∏∫ÔºöL0‚ÜíLn‚ÜíL1‚ÜíLn-1‚ÜíL2‚ÜíLn-2‚Üí‚Ä¶ÔºåÂç≥Â∞ÜLÂ§¥Â∞æ‰∫§ÊõøÈáçÊéíÂ∫è„ÄÇ ÊÄùË∑Ø Êï¥‰ΩìÂõõÈáåË∑Ø‰∏∫ÔºöÂÖàÂ∞ÜL‰∏ÄÂàÜ‰∏∫‰∫åÔºåÁÑ∂ÂêéÂ∞ÜÂêéÂçäÊÆµÈìæË°®ÈÄÜÂ∫èÔºåÂÜç‰æùÊ¨°ÊèíÂÖ•ÂâçÂçäÊÆµËäÇÁÇπ‰∏≠„ÄÇ Âú®ÊâæÈìæË°®ÁöÑ‰∏≠Èó¥ËäÇÁÇπÊó∂Ôºå‰ΩøÁî®Âø´ÊÖ¢ÊåáÈíàÂ∞±ÂèØ‰ª•Âø´ÈÄüÊâæÂà∞„ÄÇ ÈÄÜÂ∫èÊó∂ÔºåÂ∞ÜÂΩìÂâçËäÇÁÇπÁöÑÂêéÁªßËäÇÁÇπËøõË°å‰ΩçÁΩÆ‰∫§Êç¢Ôºå‰∏æ‰æãÊù•ËØ¥ÔºåÁªôÂÆöÈìæË°®l:head‚Üíb‚Üíc‚Üíd„ÄÇÈ¶ñÂÖàÔºåÂ∞ÜbÁöÑÂêéÁªßÔºåÊîπ‰∏∫ÂéüÂêéÁªßcÁöÑÂêéÁªßdÔºåÂç≥Ôºöhead‚Üíb‚ÜídÔºåÁÑ∂ÂêéÂ∞ÜcÊåáÂêëbÔºåheadÊåáÂêëcÔºåÂç≥Ôºöhead‚Üíc‚Üíb‚Üíd ÂÆûÁé∞ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546/** * Definition for singly-linked list. * function ListNode(val) &#123; * this.val = val; * this.next = null; * &#125; *//** * @param &#123;ListNode&#125; head * @return &#123;void&#125; Do not return anything, modify head in-place instead. */var reorderList = function(head) &#123; if(head == null || head.next == null)&#123; return; &#125; var fast = head, slow = head; // ÊâæÂà∞‰∏≠Èó¥ËäÇÁÇπ while(fast.next != null &amp;&amp; fast.next.next != null)&#123; slow = slow.next; fast = fast.next.next; &#125; var middle = slow, cur = slow.next; // ÂèçËΩ¨ÂêéÂçäÊÆµÈìæË°® while(cur.next != null)&#123; var tmp = cur.next; cur.next = tmp.next; tmp.next = middle.next; middle.next = tmp; &#125; // ÊãºÊé• var p1 = head, p2 = slow.next; while(p1 != slow)&#123; slow.next = p2.next; p2.next = p1.next; p1.next = p2; p1 = p2.next; p2 = slow.next; &#125;&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|3. Longest Substring Without Repeating Characters]]></title>
    <url>%2F2019%2F04%2F13%2FLeetCode%E9%A2%98%E8%A7%A3-3-Longest-Substring-Without-Repeating-Characters%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö3. Longest Substring Without Repeating Characters Ê¶ÇËø∞ Ëøô‰∏™È¢òÁõÆÁªôÂÆö‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤sÔºåÊâæÂá∫ÂÖ∂‰∏≠‰∏çÂê´ÊúâÈáçÂ§çÂ≠óÁ¨¶ÁöÑÊúÄÈïøÂ≠ê‰∏≤ÁöÑÈïøÂ∫¶„ÄÇ ÊÄùË∑Ø ËØ•È¢òÁõÆÂèØ‰ΩøÁî® ÊªëÂä®Á™óÂè£ Êù•ÂÅö„ÄÇ ÂÖ∑‰ΩìÊù•ËØ¥Ôºå‰ΩøÁî®‰∏§‰∏™ÊåáÈíàleft„ÄÅrightÊù•Á°ÆÂÆöÂá∫‰∏Ä‰∏™Â≠ê‰∏≤ÁöÑËåÉÂõ¥ÔºåÂ¶ÇÊûús[right]Â∑≤ÁªèÂú®s[left...right-1]‰∏≠Âá∫Áé∞ËøáÔºåÂàôÂ∞ÜleftÂêëÂè≥Êå™ÔºåÂèç‰πãÂàôÂ∞ÜrightÂêëÂè≥Êå™ÔºåÁõ¥Âà∞rightÂà∞ËææsÁªìÂ∞æ„ÄÇ ÈÄöËøáËøôÊ†∑ÂØπsËøõË°å‰∏ÄÊ¨°Êâ´ÊèèÔºåÂç≥ÂèØÂæóÂà∞ÊúÄÈïøÂ≠ê‰∏≤„ÄÇ ÂÆûÁé∞ 123456789101112131415161718192021/** * @param &#123;string&#125; s * @return &#123;number&#125; */var lengthOfLongestSubstring = function(s) &#123; var maxLength = 0; var left = 0, right = 1; while(right &lt;= s.length)&#123; if(maxLength &lt; right - left)&#123; maxLength = right - left; &#125; if(s.substring(left, right).indexOf(s[right]) != -1)&#123; left++; &#125; else&#123; right++; &#125; &#125; return maxLength;&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|971. Flip Binary Tree To Match Preorder Traversal]]></title>
    <url>%2F2019%2F04%2F13%2FLeetCode%E9%A2%98%E8%A7%A3-971-Flip-Binary-Tree-To-Match-Preorder-Traversal%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö971. Flip Binary Tree To Match Preorder Traversal Ê¶ÇËø∞ Ëøô‰∏™È¢òÁõÆÁªôÂÆö‰∫Ü‰∏ÄÊ£µÊúâN‰∏™ËäÇÁÇπÁöÑ‰∫åÂèâÊ†ë‰ª•Âèä‰∏Ä‰∏™Â∫èÂàóvÔºåÈóÆÂ¶Ç‰ΩïÁøªËΩ¨ÊúÄÂ∞ëÁöÑËäÇÁÇπÔºà‰∫§Êç¢Â∑¶Âè≥Â≠êÊ†ëÔºâÔºå‰ΩøÂæóÂâçÂ∫èÈÅçÂéÜÁªìÊûúÂíåÁªôÂÆöÁöÑÂ∫èÂàó‰∏ÄËá¥„ÄÇ ÊÄùË∑Ø ‰ΩøÁî®DFSÂâçÂ∫èÈÅçÂéÜËøôÊ£µÊ†ëÔºåÂπ∂‰∏î‰ΩøÁî®‰∏Ä‰∏™ÊåáÈíàiÔºåËÆ∞ÂΩïÂΩìÂâçËäÇÁÇπnodeÂ∫îËØ•Âíåv‰∏≠ÁöÑÂì™‰∏™ÂÄºÁõ∏Á≠âÔºåDFSÊó∂ÔºåÂèØÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁßçÊÉÖÂÜµÔºö node === nullÔºåËØ¥ÊòéÊàë‰ª¨Â∑≤ÁªèÈÅçÂéÜÂÆå‰∫ÜÔºåËøîÂõûtrue node.val !== v[i]ÔºåËØ¥ÊòéËØ•ËäÇÁÇπÂÄº‰∏çÊòØÈ¢ÑÊúüÁöÑÔºåËøîÂõûfalse node.left.!== null &amp;&amp; node.left.val !== v[i]ÔºåËØ¥ÊòéÂ∑¶ÂÑøÂ≠êÂ≠òÂú®‰ΩÜÊòØÂÖ∂ÂÄºÂπ∂‰∏çÊòØÈ¢ÑÊúüÁöÑÔºåÊ≠§Êó∂ÔºåÊàë‰ª¨Â∫îËØ•ÁøªËΩ¨nodeËäÇÁÇπÔºå‰ΩÜÊòØÊàë‰ª¨Âπ∂‰∏çÈúÄË¶ÅÁúüÁöÑÂéª‰øÆÊîπÊåáÈíàÔºåÂè™Ë¶ÅÂÖàÂéªÈÅçÂéÜÂè≥Â≠êÊ†ëÔºåÂÜçÂéªÈÅçÂéÜÂ∑¶Â≠êÊ†ëÔºåÂç≥ÂèØËææÂà∞ÁøªËΩ¨Âπ∂‰∏îÂâçÂ∫èÈÅçÂéÜÁöÑÁõÆÁöÑ„ÄÇ ÂÆûÁé∞ 12345678910111213141516171819202122232425262728293031/** * Definition for a binary tree node. * function TreeNode(val) &#123; * this.val = val; * this.left = this.right = null; * &#125; *//** * @param &#123;TreeNode&#125; root * @param &#123;number[]&#125; voyage * @return &#123;number[]&#125; */var flipMatchVoyage = function(root, voyage) &#123; var result = []; var i = 0; var dfs = function(node)&#123; if(node == null)&#123; return true; &#125; if(node.val != voyage[i++])&#123; return false; &#125; if(node.left != null &amp;&amp; node.left.val != voyage[i])&#123; result.push(node.val); return dfs(node.right) &amp;&amp; dfs(node.left); &#125; return dfs(node.left) &amp;&amp; dfs(node.right); &#125; return dfs(root) ? result : [-1];&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|1017. Convert to Base -2]]></title>
    <url>%2F2019%2F04%2F13%2FLeetCode%E9%A2%98%E8%A7%A3-1017-Convert-to-Base-2%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö1017. Convert to Base -2 Ê¶ÇËø∞ Ëøô‰∏™È¢òÁõÆË¶ÅÊ±ÇÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÂÆûÁé∞‰∏Ä‰∏™ÂçÅËøõÂà∂Âà∞Ë¥ü‰∫åËøõÂà∂ÁöÑËΩ¨Êç¢„ÄÇ ÊÄùË∑Ø Âú®ÂÆûÁé∞ÂâçÔºåÂÖàÂõûÈ°æ‰∏ãËøõÂà∂ËΩ¨Êç¢ÁöÑÊñπÊ≥ïÔºöÈô§kÂèñ‰ΩôÊ≥ï ‰ª•ÂçÅËøõÂà∂‰∏ãÁöÑN = 5ËΩ¨‰∏∫‰∫åËøõÂà∂‰∏∫‰æãÔºö Á¨¨‰∏ÄÊ≠•Ôºö5Êï¥Èô§2ÔºåÂïÜ‰∏∫2Ôºå‰Ωô1Ôºõ Á¨¨‰∫åÊ≠•Ôºö2Êï¥Èô§2ÔºåÂïÜ‰∏∫1Ôºå‰Ωô0Ôºõ Á¨¨‰∏âÊ≠•Ôºö1Êï¥Èô§2ÔºåÂïÜ‰∏∫0Ôºå‰Ωô1Ôºõ Áî±‰∫éÂà∞Á¨¨‰∏âÊ≠•Êó∂ÂïÜÂ∑≤ÁªèÁ≠â‰∫é0ÔºåÊïÖÁÆóÊ≥ïÁªìÊùü„ÄÇÊâÄ‰ª•Ôºå510=1012 Ëøõ‰∏ÄÊ≠•ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰ΩçËøêÁÆóÊù•Âèñ‰ΩôÊï∞ÊàñÂÅöÈô§Ê≥ï„ÄÇ ËÆæXÂØπYÊ±Ç‰ΩôÔºåYÁ≠â‰∫é2NÔºåÂÖ¨Âºè‰∏∫ÔºöX &amp; (2N - 1) Êàñ X&amp;(~Y)„ÄÇ Âõ†Ê≠§ÔºåÂú®Ê±Ç‰ΩôÊï∞ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Âè™Ë¶Å‰ΩøÁî®N &amp; 1Âç≥ÂèØ„ÄÇÂÆåÊï¥ÁöÑ‰∫åËøõÂà∂ËΩ¨Êç¢‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 12345678910111213141516/** * @param &#123;number&#125; N * @return &#123;string&#125; */var base2 = function(N) &#123; if(N == 0)&#123; return "0"; &#125; let remainders = []; while(N != 0)&#123; var x = N &amp; 1; remainders.push(x); N = N &gt;&gt; 1; &#125; return remainders.reverse().join("");&#125;; ÂâçÈù¢‰∏æÁöÑ‰æãÂ≠êÈÉΩÊòØ‰∫åËøõÂà∂ÁöÑÔºåÈÇ£Ë¥ü‰∫åËøõÂà∂Âë¢ÔºüÁ±ª‰ººÁöÑÔºåÊàë‰ª¨Âú®ËΩ¨Êç¢‰∏∫Ë¥ü‰∫åËøõÂà∂Êó∂ÔºåÂè™ÈúÄË¶ÅÂ∞ÜÈô§Êï∞Êîπ‰∏∫-2Âç≥ÂèØ„ÄÇ ÂÆûÁé∞ 12345678910111213141516/** * @param &#123;number&#125; N * @return &#123;string&#125; */var baseNeg2 = function(N) &#123; if(N == 0)&#123; return "0"; &#125; let remainders = []; while(N != 0)&#123; var x = N &amp; 1; remainders.push(x); N = -(N &gt;&gt; 1); // Ê≥®ÊÑèËøôÈáåÂ§ö‰∫Ü‰∏™Ë¥üÂè∑ &#125; return remainders.reverse().join("");&#125;; È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£|380. Insert Delete GetRandom O(1)]]></title>
    <url>%2F2019%2F04%2F13%2FLeetCode%E9%A2%98%E8%A7%A3-380-Insert-Delete-GetRandom-O-1%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÈìæÊé•Ôºö380. Insert Delete GetRandom O(1) Ê¶ÇËø∞ Ëøô‰∏™È¢òÁõÆË¶ÅÊ±ÇËÆæËÆ°‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑÔºå‰ΩøÂæóËÉΩÂ§üÂú®O(1)Êó∂Èó¥ÂÜÖÂÆåÊàêÊèíÂÖ•„ÄÅÂà†Èô§„ÄÅÈöèÊú∫Ëé∑Âèñ„ÄÇ ÊÄùË∑Ø ÁúãÂà∞Ëøô‰∏™Ë¶ÅÊ±ÇÔºåÂæàËá™ÁÑ∂Â∞±ÊÉ≥Âà∞‰∫ÜÊï∞ÁªÑ„ÄÇ‰ΩÜÊòØÂçïÁ∫ØÊï∞ÁªÑÂπ∂‰∏çËÉΩÊª°Ë∂≥È¢òÁõÆ‰∏≠Ë¶ÅÊ±ÇÁöÑÂ¶ÇÊûúÂ≠òÂú®ÂÄºÊâçÂèØÂà†Èô§/‰∏çÂèØÊèíÂÖ•Ôºå‰∏∫Ê≠§ÔºåÂèØ‰ª•ÂºïÂÖ•‰∏Ä‰∏™MapÔºåÁî®‰∫é‰øùÂ≠òÊï∞ÁªÑ‰∏≠ÂÄºÁöÑ‰ΩçÁΩÆÊÉÖÂÜµ„ÄÇ ÊèíÂÖ•Êó∂ÔºåÂÖàÂú®map‰∏≠Êü•Êâæ‰∏ãÊòØÂê¶Â≠òÂú®valÔºåËã•Â≠òÂú®ÔºåÂàôÊåâÈ¢òÁõÆË¶ÅÊ±ÇÔºåËøîÂõûfalseÔºåÂê¶ÂàôÂú®Êï∞ÁªÑÂ∞æÈÉ®ÊèíÂÖ•ËØ•ÂÄºÔºåÂπ∂‰∏îÂú®map‰∏≠ËÆ∞ÂΩïÂÖ∂‰ΩçÁΩÆ„ÄÇ Âà†Èô§Êó∂ÔºåÂêåÊ†∑ÊòØÂéªmap‰∏≠Êü•Êâæ‰∏ãÊòØÂê¶Â≠òÂú®valÔºåËã•‰∏çÂ≠òÂú®Ôºå‰πüÊòØÊåâÈ¢òÁõÆË¶ÅÊ±ÇÔºåËøîÂõûfalseÔºåÂê¶ÂàôÁöÑËØùÔºåÂ∞ÜÊï∞ÁªÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†lastÊîæÂà∞valÁöÑ‰ΩçÁΩÆ‰∏äÔºåÂêåÊó∂Êõ¥Êñ∞lastÂú®map‰∏≠ÁöÑÁ¥¢ÂºïÔºåÊúÄÂêéÂ∞ÜÊï∞ÁªÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†Âà†Èô§Êéâ„ÄÇ ÂÆûÁé∞ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758/** * Initialize your data structure here. */var RandomizedSet = function() &#123; this.set = []; this.map = &#123;&#125;;&#125;;/** * Inserts a value to the set. Returns true if the set did not already contain the specified element. * @param &#123;number&#125; val * @return &#123;boolean&#125; */RandomizedSet.prototype.insert = function(val) &#123; if(val in this.map)&#123; return false; &#125; this.set.push(val); this.map[val] = this.set.length - 1; return true;&#125;;/** * Removes a value from the set. Returns true if the set contained the specified element. * @param &#123;number&#125; val * @return &#123;boolean&#125; */RandomizedSet.prototype.remove = function(val) &#123; if(!(val in this.map))&#123; return false; &#125; let last = this.set.pop(); let index = this.map[val]; delete this.map[val]; if(val !== last)&#123; this.set[index] = last; this.map[last] = index; &#125; return true;&#125;;/** * Get a random element from the set. * @return &#123;number&#125; */RandomizedSet.prototype.getRandom = function() &#123; let rand = Math.floor(Math.random() * this.set.length); return this.set[rand]&#125;;/** * Your RandomizedSet object will be instantiated and called as such: * var obj = new RandomizedSet() * var param_1 = obj.insert(val) * var param_2 = obj.remove(val) * var param_3 = obj.getRandom() */ È¢òËß£ÂêàÈõÜ]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÈ¢òËß£ÈõÜÂêà]]></title>
    <url>%2F2019%2F04%2F13%2FLeetCode%E9%A2%98%E8%A7%A3%E9%9B%86%E5%90%88%2F</url>
    <content type="text"><![CDATA[ÊØèÊó•Êù•ÁÇπLeetCode # Title Solution Difficulty Tag 380 Insert Delete GetRandom O(1) js Medium Array 1017 Convert to Base -2 js Medium Math 971 Flip Binary Tree To Match Preorder Traversal js Medium Tree 3 Longest Substring Without Repeating Characters js Medium String 143 Reorder List js Medium Linked List 687 Longest Univalue Path js Easy Tree 86 Partition List js Medium Linked List 652 Find Duplicate Subtrees js Medium Tree 279 Perfect Squares js Medium Math 988 Smallest String Starting From Leaf js Medium Tree 775 Global and Local Inversions js Medium Tree 26 Âà†Èô§ÊéíÂ∫èÊï∞ÁªÑ‰∏≠ÁöÑÈáçÂ§çÈ°π js Easy Array 27 ÁßªÈô§ÂÖÉÁ¥† js Easy Array 28 ÂÆûÁé∞strStr() js Easy String]]></content>
      <tags>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CORS]]></title>
    <url>%2F2019%2F04%2F03%2Fcors%2F</url>
    <content type="text"><![CDATA[CORSÊòØ‰∏Ä‰∏™W3CÊ†áÂáÜÔºåÂÖ®Áß∞ÊòØ&quot;Ë∑®ÂüüËµÑÊ∫êÂÖ±‰∫´&quot;ÔºàCross-origin resource sharingÔºâ„ÄÇÂÆÉÂÖÅËÆ∏ÊµèËßàÂô®ÂêëË∑®ÂüüÊúçÂä°Âô®ÔºåÂèëÂá∫XMLHttpRequestËØ∑Ê±ÇÔºå‰ªéËÄåÂÖãÊúç‰∫ÜAJAXÂè™ËÉΩÂêåÊ∫ê‰ΩøÁî®ÁöÑÈôêÂà∂„ÄÇ Êú¨Êñá‰ªãÁªç‰∫ÜCORSÁöÑÂÜÖÈÉ®Êú∫Âà∂„ÄÇ ÁÆÄ‰ªã CORSÈúÄË¶ÅÊµèËßàÂô®ÂíåÊúçÂä°Âô®ÂêåÊó∂ÊîØÊåÅ„ÄÇÁõÆÂâçÔºå‰∏ªÊµÅÊµèËßàÂô®ÈÉΩÂ∑≤Âü∫Êú¨Êèê‰æõÂØπË∑®ÂüüËµÑÊ∫êÂÖ±‰∫´ÁöÑÊîØÊåÅÔºåÁßªÂä®Á´ØÊµèËßàÂô®‰πüÂá†‰πéÂÖ®ÈÉ®ÊîØÊåÅ„ÄÇ Êï¥‰∏™CORSÈÄö‰ø°ËøáÁ®ãÔºåÈÉΩÊòØÊµèËßàÂô®Ëá™Âä®ÂÆåÊàêÔºå‰∏çÈúÄË¶ÅÁî®Êà∑ÂèÇ‰∏é„ÄÇÂØπ‰∫éÂºÄÂèëËÄÖÊù•ËØ¥ÔºåCORSÈÄö‰ø°‰∏éÂêåÊ∫êÁöÑAJAXÈÄö‰ø°Ê≤°ÊúâÂ∑ÆÂà´Ôºå‰ª£Á†ÅÂÆåÂÖ®‰∏ÄÊ†∑„ÄÇÊµèËßàÂô®‰∏ÄÊó¶ÂèëÁé∞AJAXËØ∑Ê±ÇË∑®Ê∫êÔºåÂ∞±‰ºöËá™Âä®Ê∑ªÂä†‰∏Ä‰∫õÈôÑÂä†ÁöÑÂ§¥‰ø°ÊÅØÔºåÊúâÊó∂Ëøò‰ºöÂ§öÂá∫‰∏ÄÊ¨°ÈôÑÂä†ÁöÑËØ∑Ê±ÇÔºå‰ΩÜÁî®Êà∑‰∏ç‰ºöÊúâÊÑüËßâ„ÄÇ Âõ†Ê≠§ÔºåÂÆûÁé∞CORSÈÄö‰ø°ÁöÑÂÖ≥ÈîÆÊòØÊúçÂä°Âô®„ÄÇÂè™Ë¶ÅÊúçÂä°Âô®ÂÆûÁé∞‰∫ÜCORSÊé•Âè£ÔºåÂ∞±ÂèØ‰ª•Ë∑®Ê∫êÈÄö‰ø°„ÄÇ ‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÈúÄË¶ÅCORSÔºü Áî±XMLHttpRequestÊàñFetchÂèëËµ∑ÁöÑË∑®Âüü HTTP ËØ∑Ê±Ç„ÄÇ Web Â≠ó‰Ωì (CSS ‰∏≠ÈÄöËøá@font-face‰ΩøÁî®Ë∑®ÂüüÂ≠ó‰ΩìËµÑÊ∫ê) ‰ΩøÁî®drawImageÂ∞ÜImages/videoÁîªÈù¢ÁªòÂà∂Âà∞canvas ‰æãÂ¶ÇÔºåÂΩì‰Ω†ÂºïÁî®‰∫ÜÊüê‰∏™Á¨¨‰∏âÊñπCDN‰∏äÁöÑÂ≠ó‰ΩìÊñá‰ª∂Êó∂Ôºö 12345/* CSS */@font-face &#123; font-family: 'FontAwesome'; src: url('http://cdn.com/fonts/fontawesome.ttf') format('truetype');&#125; Â¶ÇÊûúËØ•CDNÊúçÂä°ÂïÜÊú™Ê≠£Á°ÆËÆæÁΩÆAccess-Control-Allow-OriginÔºåÈÇ£‰πàÊµèËßàÂô®Êó†Ê≥ïÂä†ËΩΩÂ≠ó‰ΩìËµÑÊ∫ê„ÄÇ ‰∏§ÁßçËØ∑Ê±Ç ÊµèËßàÂô®Â∞ÜCORSËØ∑Ê±ÇÂàÜÊàê‰∏§Á±ªÔºöÁÆÄÂçïËØ∑Ê±ÇÔºàsimple requestÔºâÂíåÈùûÁÆÄÂçïËØ∑Ê±ÇÔºànot-so-simple requestÔºâ„ÄÇ Ëã•ËØ∑Ê±ÇÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂ÔºåÂàôËØ•ËØ∑Ê±ÇÂ±û‰∫éÁÆÄÂçïËØ∑Ê±ÇÔºö ËØ∑Ê±ÇÊñπÊ≥ïÊòØ‰∏ãÂàó‰∏âÁßç‰πã‰∏ÄÔºö GET POST HEAD HTTPÁöÑÂ§¥‰ø°ÊÅØ‰∏çÂæóÂåÖÂê´‰ª•‰∏ãÂá†ÁßçÂ≠óÊÆµ‰πãÂ§ñÁöÑÂ≠óÊÆµÔºö Accept Accept-Language Content-Language Content-TypeÔºö ‰ªÖÈôê‰∫étext/plain„ÄÅmultipart/form-data„ÄÅapplication/x-www-form-urlencoded‰∏â‰∏™ÂÄº Âá°ÊòØ‰∏çÂêåÊó∂Êª°Ë∂≥‰∏äÈù¢‰∏§‰∏™Êù°‰ª∂ÔºåÂ∞±Â±û‰∫éÈùûÁÆÄÂçïËØ∑Ê±Ç„ÄÇ ÊµèËßàÂô®ÂØπËøô‰∏§ÁßçËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÔºåÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ ¬∂ÁÆÄÂçïËØ∑Ê±Ç ÂØπ‰∫éÁÆÄÂçïËØ∑Ê±ÇÔºåÊµèËßàÂô®Áõ¥Êé•ÂèëÂá∫CORSËØ∑Ê±Ç„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂ∞±ÊòØÂú®Â§¥‰ø°ÊÅØ‰πã‰∏≠ÔºåÂ¢ûÂä†‰∏Ä‰∏™OriginÂ≠óÊÆµ„ÄÇ Êàë‰ª¨È¶ñÂÖàÂèëËµ∑‰∏Ä‰∏™Ë∑®ÂüüËØ∑Ê±ÇÔºö ÂèØ‰ª•ÁúãÂà∞ÔºåÊµèËßàÂô®Ëá™Âä®Âú®ËØ∑Ê±ÇÂ§¥ÈÉ®Âä†‰∫Ü‰∏Ä‰∏™OriginÂ≠óÊÆµÔºåÂêåÊó∂ÊúçÂä°Âô®ËøîÂõûÁöÑÁä∂ÊÄÅÁ†Å‰πü‰∏∫200Ôºå‰ΩÜÊòØÂú®ÊéßÂà∂Âè∞Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ËøôÊ†∑‰∏Ä‰∏™CORSÁöÑÊä•ÈîôÔºö Âú®ÊúçÂä°Âô®Êàë‰ª¨‰πüËÉΩÁúãÂà∞ËøôÊ†∑ÁöÑËÆ∞ÂΩïÔºö Ëøô‰∏™‰πüËØ¥Êòé‰∫ÜÔºåË∑®ÂüüËØ∑Ê±ÇÂèØ‰ª•Ê≠£Â∏∏ÂèëËµ∑Ôºå‰ΩÜÊòØËøîÂõûÁªìÊûúË¢´ÊµèËßàÂô®Êã¶Êà™‰∫Ü„ÄÇ Êàë‰ª¨ÂØπÊúçÂä°Âô®Á®çÂä†‰øÆÊîπÔºåÁªôÂÖ∂ÂìçÂ∫îÂ§¥ÈÉ®Âä†‰∏äÂ¶Ç‰∏ãÂ≠óÊÆµÔºö 1Access-Control-Allow-Origin: http://sender.com Ê≠§Êó∂Êàë‰ª¨ÂÜçÂèëËµ∑ËØ∑Ê±ÇÔºåÂ∞±ÂèØ‰ª•ÁúãÂà∞ÁªìÊûúÂ¶Ç‰∏ãÔºö ÂêåÊó∂Âú®ÊéßÂà∂Âè∞‰πüÊ≤°Êúâ‰∫ÜCORSÁöÑÊä•Èîô‰∫Ü„ÄÇ ÊÄªÁªì‰∏Ä‰∏ãÔºåÂú®ÂèëËµ∑‰∏Ä‰∏™ÁÆÄÂçïËØ∑Ê±ÇÊó∂ÔºåÊµèËßàÂô®Â¶ÇÊûúÂèëÁé∞ËøôÊ¨°ËØ∑Ê±ÇÊòØ‰∏Ä‰∏™Ë∑®ÂüüAJAXËØ∑Ê±ÇÊó∂ÔºåÂ∞±Ëá™Âä®Âú®Â§¥‰ø°ÊÅØ‰πã‰∏≠ÔºåÊ∑ªÂä†‰∏Ä‰∏™OriginÂ≠óÊÆµ„ÄÇOriginÂ≠óÊÆµÁî®Êù•ËØ¥ÊòéÔºåÊú¨Ê¨°ËØ∑Ê±ÇÊù•Ëá™Âì™‰∏™Ê∫êÔºàÂçèËÆÆ + ÂüüÂêç + Á´ØÂè£Ôºâ„ÄÇÊúçÂä°Âô®Ê†πÊçÆËøô‰∏™ÂÄºÔºåÂÜ≥ÂÆöÊòØÂê¶ÂêåÊÑèËøôÊ¨°ËØ∑Ê±Ç„ÄÇ Â¶ÇÊûúOriginÊåáÂÆöÁöÑÊ∫êÔºå‰∏çÂú®ËÆ∏ÂèØËåÉÂõ¥ÂÜÖÔºåÊúçÂä°Âô®‰ºöËøîÂõû‰∏Ä‰∏™Ê≠£Â∏∏ÁöÑHTTPÂõûÂ∫î„ÄÇÊµèËßàÂô®ÂèëÁé∞ÔºåËøô‰∏™ÂõûÂ∫îÁöÑÂ§¥‰ø°ÊÅØÊ≤°ÊúâÂåÖÂê´Access-Control-Allow-OriginÂ≠óÊÆµÊàñËÄÖËøô‰∏™Â≠óÊÆµÁöÑÂÄº‰∏≠‰∏çÂåÖÂê´Ëøô‰∏™OriginÊåáÂÆöÁöÑÊ∫êÔºåÂ∞±Áü•ÈÅìÂá∫Èîô‰∫ÜÔºå‰ªéËÄåÊäõÂá∫‰∏Ä‰∏™ÈîôËØØÔºåË¢´XMLHttpRequestÁöÑonerrorÂõûË∞ÉÂáΩÊï∞ÊçïËé∑„ÄÇÊ≥®ÊÑèÔºåËøôÁßçÈîôËØØÊó†Ê≥ïÈÄöËøáÁä∂ÊÄÅÁ†ÅËØÜÂà´ÔºåÂõ†‰∏∫HTTPÂõûÂ∫îÁöÑÁä∂ÊÄÅÁ†ÅÊúâÂèØËÉΩÊòØ200‰πüÊúâÂèØËÉΩÊòØÂÖ∂‰ªñÔºåËøô‰∏™ÂèñÂÜ≥‰∫éÊúçÂä°Âô®ÊòØÂê¶ÊúâÂÅöËøôÊñπÈù¢ÁöÑÂ§ÑÁêÜ„ÄÇÊØîÂ¶ÇÔºåÊúçÂä°Âô®ÂØπËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑOriginËøõË°å‰∫ÜÂà§Êñ≠ÂêéÔºåÂèØËÉΩÁªôÂá∫ËØ∏Â¶Ç403Á≠âËøîÂõûÁ†ÅÂ¶Ç‰∏ãÔºö ÊúçÂä°Âô®ÂØπOriginÂ≠óÊÆµÂà§Êñ≠ÂêéÔºåËøîÂõû‰∫Ü403ÔºåÂêåÊ†∑ÁöÑËØ∑Ê±ÇÂæóÂà∞‰∫Ü‰∏çÂêåÁöÑÂìçÂ∫îÁªìÊûúÔºàÂØπÊØî‰∏äÂõæÔºâÔºö ¬∂ÈùûÁÆÄÂçïËØ∑Ê±Ç ÂØπ‰∫éÈùûÁÆÄÂçïËØ∑Ê±ÇÔºåÊµèËßàÂô®Âπ∂‰∏ç‰ºöÁ´ãÂç≥ÊâßË°åÂØπÂ∫îÁöÑËØ∑Ê±Ç‰ª£Á†ÅÔºåËÄåÊòØ‰ºöÂÖàÂèëÈÄÅ‰∏Ä‰∏™Ë¢´Áß∞‰∏∫‚ÄúÈ¢ÑÊ£Ä‚Äù(Preflight)ÁöÑOPTIONËØ∑Ê±ÇÔºåÁî®‰∫éËØ¢ÈóÆË¶ÅË¢´Ë∑®ÂüüËÆøÈóÆÁöÑÊúçÂä°Âô®ÔºåÊòØÂê¶ÂÖÅËÆ∏ÂΩìÂâçÂüüÂêç‰∏ãÁöÑÈ°µÈù¢ÂèëÈÄÅË∑®ÂüüÁöÑËØ∑Ê±Ç„ÄÇ ÊØîÂ¶ÇÔºå‰ΩøÁî®‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂèëËµ∑‰∏Ä‰∏™ËØ∑Ê±ÇÔºö 12345var url = 'http://receiver.com/testNotSimpleReq.php';var xhr = new XMLHttpRequest();xhr.open('PUT', url, true);xhr.setRequestHeader('X-Custom-Header', 'value');xhr.send(); ËøôÊÆµ‰ª£Á†Å‰∏≠ÔºåHTTPËØ∑Ê±ÇÁöÑÊñπÊ≥ïÊòØPUTÔºåÂπ∂‰∏îÂèëÈÄÅ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂ§¥‰ø°ÊÅØX-Custom-Header„ÄÇ ÊµèËßàÂô®ÂèëÁé∞ËøôÊòØ‰∏Ä‰∏™ÈùûÁÆÄÂçïËØ∑Ê±ÇÔºåÂ∞±‰ºöÂÖàËá™Âä®ÂèëËµ∑‰∏Ä‰∏™‚ÄúÈ¢ÑÊ£Ä‚ÄùËØ∑Ê±ÇÔºåË¶ÅÊ±ÇÊúçÂä°Âô®Á°ÆËÆ§ÂèØ‰ª•ËøôÊ†∑ËØ∑Ê±ÇÔºö Âú®ËØ∑Ê±ÇÂ§¥ÈÉ®‰∏≠ÔºåÂÖ≥ÈîÆÂ≠óÊÆµÊòØOriginÔºåË°®Á§∫ËØ∑Ê±ÇÊù•Ëá™Âì™‰∏™Ê∫ê„ÄÇ Èô§‰∫ÜOriginÂ≠óÊÆµÔºå&quot;È¢ÑÊ£Ä&quot;ËØ∑Ê±ÇÁöÑÂ§¥‰ø°ÊÅØÂåÖÊã¨‰∏§‰∏™ÁâπÊÆäÂ≠óÊÆµ„ÄÇ Access-Control-Request-Method ËØ•Â≠óÊÆµÊòØÂøÖÈ°ªÁöÑÔºåÁî®Êù•ÂàóÂá∫ÊµèËßàÂô®ÁöÑCORSËØ∑Ê±Ç‰ºöÁî®Âà∞Âì™‰∫õHTTPÊñπÊ≥ïÔºå‰∏ä‰æãÊòØPUT„ÄÇ Access-Control-Request-Headers ËØ•Â≠óÊÆµÊòØ‰∏Ä‰∏™ÈÄóÂè∑ÂàÜÈöîÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊåáÂÆöÊµèËßàÂô®CORSËØ∑Ê±Ç‰ºöÈ¢ùÂ§ñÂèëÈÄÅÁöÑÂ§¥‰ø°ÊÅØÂ≠óÊÆµÔºå‰∏ä‰æãÊòØX-Custom-Header„ÄÇ Âú®‚ÄúÈ¢ÑÊ£Ä‚ÄùËØ∑Ê±ÇÁöÑÂìçÂ∫îÂ§¥ÈÉ®‰∏≠ÔºåÂá∫Áé∞‰∫Ü‰∏â‰∏™Â≠óÊÆµÔºö Access-Control-Allow-Origin ÂíåÂâçÈù¢‰∏ÄÊ†∑ÔºåË°®Á§∫Êé•ÂèóÁöÑÂüüÂêç Access-Control-Allow-Methods ÈÄóÂè∑ÂàÜÈöîÁöÑ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåË°®ÊòéÊúçÂä°Âô®ÊîØÊåÅÁöÑÊâÄÊúâË∑®ÂüüËØ∑Ê±ÇÁöÑÊñπÊ≥ï„ÄÇÊ≥®ÊÑèÔºåËøîÂõûÁöÑÊòØÊâÄÊúâÊîØÊåÅÁöÑÊñπÊ≥ïÔºåËÄå‰∏çÂçïÊòØÊµèËßàÂô®ËØ∑Ê±ÇÁöÑÈÇ£‰∏™ÊñπÊ≥ï„ÄÇËøôÊòØ‰∏∫‰∫ÜÈÅøÂÖçÂ§öÊ¨°&quot;È¢ÑÊ£Ä&quot;ËØ∑Ê±Ç„ÄÇ Access-Control-Allow-Headers Â¶ÇÊûúÊµèËßàÂô®ËØ∑Ê±ÇÂåÖÊã¨Access-Control-Request-HeadersÂ≠óÊÆµÔºåÂàôAccess-Control-Allow-HeadersÂ≠óÊÆµÊòØÂøÖÈúÄÁöÑ„ÄÇÂÆÉ‰πüÊòØ‰∏Ä‰∏™ÈÄóÂè∑ÂàÜÈöîÁöÑÂ≠óÁ¨¶‰∏≤ÔºåË°®ÊòéÊúçÂä°Âô®ÊîØÊåÅÁöÑÊâÄÊúâÂ§¥‰ø°ÊÅØÂ≠óÊÆµÔºå‰∏çÈôê‰∫éÊµèËßàÂô®Âú®&quot;È¢ÑÊ£Ä&quot;‰∏≠ËØ∑Ê±ÇÁöÑÂ≠óÊÆµ„ÄÇ Â¶ÇÊûúËØ∑Ê±ÇÊñπÊ≥ïÊàñËÄÖËØ∑Ê±Ç‰∏≠Âê´ÊúâÁöÑËá™ÂÆö‰πâÂ§¥ÈÉ®‰∏çÂú®ÂìçÂ∫îÂ§¥ÈÉ®ÁöÑAccess-Control-Allow-MethodsÂíåAccess-Control-Allow-Headers‰∏≠ÔºåÊµèËßàÂô®Â∞±‰∏ç‰ºöÁúüÊ≠£ÂèëËµ∑ËØ•ËØ∑Ê±ÇÔºåÂêåÊó∂Âú®ÊéßÂà∂Âè∞Êä•ÈîôÂ¶Ç‰∏ãÔºö Â¶ÇÊûúÈ°∫Âà©ÈÄöËøá‚ÄúÈ¢ÑÊ£Ä‚ÄùÁöÑËØùÔºåÊµèËßàÂô®Âàô‰ºöÁúüÊ≠£ÂèëËµ∑ËØ∑Ê±ÇÔºö Cookies‰∏éCORS ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåCookie‰∏çÂåÖÊã¨Âú®CORSËØ∑Ê±Ç‰πã‰∏≠„ÄÇ Â¶ÇÊûúÊúçÂä°Âô®ÂÖÅËÆ∏ËØ∑Ê±Ç‰∏≠ÂåÖÂê´CookiesÔºåÂàôÈúÄË¶ÅÂú®ÂìçÂ∫îÂ§¥ÈÉ®‰∏≠Âä†ÂÖ•Â≠óÊÆµ 1Access-Control-Allow-Credentials: true Â¶ÇÊûúÊúçÂä°Âô®‰∏çË¶ÅÊµèËßàÂô®ÂèëÈÄÅCookieÔºåÂà†Èô§ËØ•Â≠óÊÆµÊàñËÄÖËÆæÁΩÆ‰∏∫falseÂç≥ÂèØ„ÄÇ Âè¶‰∏ÄÊñπÈù¢ÔºåÂºÄÂèëËÄÖÂøÖÈ°ªÂú®AJAXËØ∑Ê±Ç‰∏≠ÊâìÂºÄwithCredentialsÂ±ûÊÄß„ÄÇ 12var xhr = new XMLHttpRequest();xhr.withCredentials = true; Âê¶ÂàôÔºåÂç≥‰ΩøÊúçÂä°Âô®ÂêåÊÑèÂèëÈÄÅCookieÔºåÊµèËßàÂô®‰πü‰∏ç‰ºöÂèëÈÄÅ„ÄÇÊàñËÄÖÔºåÊúçÂä°Âô®Ë¶ÅÊ±ÇËÆæÁΩÆCookieÔºåÊµèËßàÂô®‰πü‰∏ç‰ºöÂ§ÑÁêÜ„ÄÇ ‰ΩÜÊòØÔºåÂ¶ÇÊûúÁúÅÁï•withCredentialsËÆæÁΩÆÔºåÊúâÁöÑÊµèËßàÂô®ËøòÊòØ‰ºö‰∏ÄËµ∑ÂèëÈÄÅCookie„ÄÇËøôÊó∂ÔºåÂèØ‰ª•ÊòæÂºèÂÖ≥Èó≠withCredentials„ÄÇ 1xhr.withCredentials = false; ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂ¶ÇÊûúË¶ÅÂèëÈÄÅCookieÔºåAccess-Control-Allow-OriginÂ∞±‰∏çËÉΩËÆæ‰∏∫ÊòüÂè∑ÔºåÂøÖÈ°ªÊåáÂÆöÊòéÁ°ÆÁöÑ„ÄÅ‰∏éËØ∑Ê±ÇÁΩëÈ°µ‰∏ÄËá¥ÁöÑÂüüÂêç„ÄÇ ÂêåÊó∂ÔºåCookie‰æùÁÑ∂ÈÅµÂæ™ÂêåÊ∫êÁ≠ñÁï•ÔºåÂè™ÊúâÁî®ÊúçÂä°Âô®ÂüüÂêçËÆæÁΩÆÁöÑCookieÊâç‰ºö‰∏ä‰º†ÔºåÂÖ∂‰ªñÂüüÂêçÁöÑCookieÂπ∂‰∏ç‰ºö‰∏ä‰º†Ôºå‰∏îË∑®ÂüüÁöÑÂéüÁΩëÈ°µ‰ª£Á†Å‰∏≠ÁöÑdocument.cookie‰πüÊó†Ê≥ïËØªÂèñÊúçÂä°Âô®ÂüüÂêç‰∏ãÁöÑCookie„ÄÇ ‰∏éJSONPÁöÑÊØîËæÉ CORS‰∏éJSONPÁöÑ‰ΩøÁî®ÁõÆÁöÑÁõ∏ÂêåÔºå‰ΩÜÊòØÊØîJSONPÊõ¥Âº∫Â§ß„ÄÇ JSONPÂè™ÊîØÊåÅGETËØ∑Ê±ÇÔºåCORSÊîØÊåÅÊâÄÊúâÁ±ªÂûãÁöÑHTTPËØ∑Ê±Ç„ÄÇ JSONPÁöÑ‰ºòÂäøÂú®‰∫éÊîØÊåÅËÄÅÂºèÊµèËßàÂô®Ôºå‰ª•ÂèäÂèØ‰ª•Âêë‰∏çÊîØÊåÅCORSÁöÑÁΩëÁ´ôËØ∑Ê±ÇÊï∞ÊçÆ„ÄÇ ÂèÇËÄÉ Ë∑®ÂüüËµÑÊ∫êÂÖ±‰∫´ CORS ËØ¶Ëß£ - ÈòÆ‰∏ÄÂ≥∞ HTTPËÆøÈóÆÊéßÂà∂ÔºàCORSÔºâ - MDN CORS‚Äî‚ÄîË∑®ÂüüËØ∑Ê±ÇÈÇ£‰∫õ‰∫ãÂÑø]]></content>
      <tags>
        <tag>CORS</tag>
        <tag>Ë∑®Âüü</tag>
        <tag>ÂêåÊ∫êÁ≠ñÁï•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï•]]></title>
    <url>%2F2019%2F03%2F24%2F%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%2F</url>
    <content type="text"><![CDATA[ÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï•ÊòØ‰∏Ä‰∏™Áî®‰∫éÈöîÁ¶ªÊΩúÂú®ÊÅ∂ÊÑèÊñá‰ª∂ÁöÑÈáçË¶ÅÂÆâÂÖ®Êú∫Âà∂ÔºåÂÖ∂ÈôêÂà∂‰∫Ü‰ªéÂêå‰∏Ä‰∏™Ê∫êÂä†ËΩΩÁöÑÊñáÊ°£ÊàñËÑöÊú¨Â¶Ç‰Ωï‰∏éÊù•Ëá™Âè¶‰∏Ä‰∏™Ê∫êÁöÑËµÑÊ∫êËøõË°å‰∫§‰∫í„ÄÇ Êú¨Êñá‰ªãÁªç‰∫ÜÂêåÊ∫êÁ≠ñÁï•ÁöÑÂá†‰∏™ÊñπÈù¢Ôºå‰ª•ÂèäÂ¶Ç‰ΩïÈÅøÂÖç„ÄÇ Ê¶ÇËø∞ ¬∂‰ªÄ‰πàÊòØÂêåÊ∫ê ÊâÄË∞ìÁöÑ‚ÄúÂêåÊ∫ê‚ÄùÔºå ÊåáÁöÑÊòØ‚Äú‰∏â‰∏™Áõ∏Âêå‚ÄùÔºåÂç≥Ôºö ÂçèËÆÆÁõ∏Âêå ÂüüÂêçÁõ∏Âêå Á´ØÂè£Áõ∏Âêå ‰∏æ‰æãÊù•ËØ¥Ôºåhttps://www.a.com/bbb/ccc.htmlËøô‰∏™ÁΩëÂùÄÔºåÂçèËÆÆ‰∏∫https://ÔºåÂüüÂêç‰∏∫www.a.comÔºåÁ´ØÂè£‰∏∫80ÔºàÈªòËÆ§ÁöÑ80Á´ØÂè£ÂèØÁúÅÁï•Ôºâ„ÄÇ‰ª•‰∏ãÂá†‰∏™ÁΩëÂùÄ‰∏é‰πãÁöÑÂêåÊ∫êÊÉÖÂÜµ‰∏∫Ôºö https://www.a.com/xxx/yyy.html -&gt; ÂêåÊ∫ê http://www.a.com/bbb/ccc.html -&gt; ‰∏çÂêåÊ∫êÔºåÂçèËÆÆ‰∏çÂêå https://m.a.com/bbb/ccc.com -&gt; ‰∏çÂêåÊ∫êÔºåÂüüÂêç‰∏çÂêå https://www.a.com:8080/bbb/ccc.html -&gt; ‰∏çÂêåÊ∫êÔºåÁ´ØÂè£‰∏çÂêå ¬∂ÂêåÊ∫êÁöÑÁõÆÁöÑ ÂêåÊ∫êÁ≠ñÁï•ÁöÑÁõÆÁöÑÔºåÊòØ‰∏∫‰∫Ü‰øùËØÅÁî®Êà∑‰ø°ÊÅØÁöÑÂÆâÂÖ®ÔºåÈò≤Ê≠¢ÊÅ∂ÊÑèÁöÑÁΩëÁ´ôÁ™ÉÂèñÊï∞ÊçÆ„ÄÇ ¬∂ÂêåÊ∫êÁöÑÈôêÂà∂ËåÉÂõ¥ ÁõÆÂâçÔºåÂ¶ÇÊûúÈùûÂêåÊ∫êÔºåÂÖ±Êúâ‰∏âÁßçË°å‰∏∫ÂèóÂà∞ÈôêÂà∂„ÄÇ Cookie„ÄÅLocalStorage Âíå IndexDB Êó†Ê≥ïËØªÂèñ„ÄÇ DOM Êó†Ê≥ïËé∑Âæó„ÄÇ AJAX ËØ∑Ê±Ç‰∏çËÉΩÂèëÈÄÅ„ÄÇ ‰ª•‰∏ãÂ∞ÜÂàÜÂà´‰ªãÁªçÂ¶Ç‰ΩïÈÅøÂÖçËøô‰∏â‰∏™ÈôêÂà∂ Cookies ÊúçÂä°Âô®ÂÜôÂÖ•ÊµèËßàÂô®ÁöÑ‰∏ÄÂ∞èÊÆµ‰ø°ÊÅØÔºåÂè™ÊúâÂêåÊ∫êÁöÑÁΩëÈ°µÊâçËÉΩÂÖ±‰∫´„ÄÇ ‰ΩÜÊòØÔºåÂ¶ÇÊûú‰∏§‰∏™ÁΩëÈ°µ‰∏ÄÁ∫ßÂüüÂêçÁõ∏ÂêåÔºåÂè™ÊòØ‰∫åÁ∫ßÂüüÂêç‰∏çÂêåÔºåÊµèËßàÂô®ÂÖÅËÆ∏ÈÄöËøáËÆæÁΩÆdocument.domainÂÖ±‰∫´ Cookie„ÄÇ ‰∏æ‰æãÊù•ËØ¥ÔºåAÁΩëÈ°µÊòØhttps://www.a.com/bbb/ccc.htmlÔºåBÁΩëÈ°µÊòØhttps://m.a.com/xxx/yyy.htmlÔºåÈÇ£‰πàÔºåÂè™Ë¶ÅËÆæÁΩÆÁõ∏ÂêåÁöÑdocument.domainÔºåËøô‰∏§‰∏™ÁΩëÈ°µÂ∞±ÂèØ‰ª•ÂÖ±‰∫´Cookies‰∫Ü„ÄÇ 12//‰∏∫‰∏§‰∏™È°µÈù¢ËÆæÁΩÆÁõ∏ÂêåÁöÑ document.domaindocument.domain = 'a.com'; Áé∞Âú®ÔºåAÁΩëÈ°µÂÜÖÈÄöËøáËÑöÊú¨ËÆæÁΩÆ‰∏Ä‰∏™Cookies 12document.cookies = "test1=hello";document.cookies = "test2=world"; BÁΩëÈ°µÂ∞±ÂèØ‰ª•ËØªÂèñÂà∞Ëøô‰∏™Cookies‰∫Ü 1var allCookies = document.cookies; // test1=hello;test2=world Ê≥®ÊÑèÔºödocument.domain‰∏çËÉΩÈöèÊÑèËÆæÁΩÆÔºåÂè™ËÉΩÊäädocument.domainËÆæÁΩÆÊàêËá™Ë∫´ÊàñÊõ¥È´ò‰∏ÄÁ∫ßÁöÑÁà∂Âüü„ÄÇ 1234// https://www.a.com/bbb/ccc.htmlÈ°µÈù¢‰∏ãdocument.domain = "b.com";// Uncaught DOMException: Failed to set the 'domain' property on 'Document': 'b.com' is not a suffix of 'www.a.com'. Ê≠§Â§ñÔºåËøôÁßçÊñπÊ≥ïÂè™ÈÄÇÁî®‰∫éCookieÂíåiframeÁ™óÂè£ÔºåLocalStorageÂíåIndexDBÊó†Ê≥ïÈÄöËøáËøôÁßçÊñπÊ≥ïÊù•ËßÑÈÅøÂêåÊ∫êÁ≠ñÁï•ÔºåËÄåË¶Å‰ΩøÁî®‰∏ãÊñá‰ªãÁªçÁöÑPostMessage API„ÄÇ Âè¶Â§ñÔºåÊúçÂä°Âô®‰πüÂèØ‰ª•Âú®ËÆæÁΩÆCookieÁöÑÊó∂ÂÄôÔºåÊåáÂÆöCookieÁöÑÊâÄÂ±ûÂüüÂêç‰∏∫‰∏ÄÁ∫ßÂüüÂêçÔºåÊØîÂ¶Ç.a.com„ÄÇ 1Set-Cookie: key=value; domain=.a.com; path=/ ËøôÊ†∑ÁöÑËØùÔºå‰∫åÁ∫ßÂüüÂêçÂíå‰∏âÁ∫ßÂüüÂêç‰∏çÁî®ÂÅö‰ªª‰ΩïËÆæÁΩÆÔºåÈÉΩÂèØ‰ª•ËØªÂèñËøô‰∏™Cookie„ÄÇ PSÔºöÂ¶ÇÊûú‰∏§‰∏™ÁΩëÂùÄÔºåÂçèËÆÆ‰∏çÂêåÊàñÁ´ØÂè£‰∏çÂêåÔºåÂÖ∂CookiesÂèØÂÖ±‰∫´ÔºåÂç≥ÔºöCookieÂÖ±‰∫´Ë∑üÂçèËÆÆ„ÄÅÁ´ØÂè£Êó†ÂÖ≥ Ë∑®ÂüüÊñáÊ°£ÈÄö‰ø° Â¶ÇÊûú‰∏§‰∏™ÁΩëÈ°µ‰∏çÂêåÊ∫êÔºåÂ∞±Êó†Ê≥ïÊãøÂà∞ÂØπÊñπÁöÑDOMÔºå‰πüÊó†Ê≥ïËøõË°åÈÄö‰ø°„ÄÇÂÖ∏ÂûãÁöÑ‰æãÂ≠êÊòØiframeÁ™óÂè£Âíåwindow.openÊñπÊ≥ïÊâìÂºÄÁöÑÁ™óÂè£ÔºåÂÆÉ‰ª¨‰∏éÁà∂Á™óÂè£Êó†Ê≥ïÈÄö‰ø°„ÄÇ ÊØîÂ¶ÇÔºåÁà∂Á™óÂè£ËøêË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÔºåÂ¶ÇÊûúiframeÁ™óÂè£‰∏çÊòØÂêåÊ∫êÔºåÂ∞±‰ºöÊä•Èîô„ÄÇ 12document.getElementById("myIFrame").contentWindow.document// Uncaught DOMException: Blocked a frame from accessing a cross-origin frame. ‰∏äÈù¢ÂëΩ‰ª§‰∏≠ÔºåÁà∂Á™óÂè£ÊÉ≥Ëé∑ÂèñÂ≠êÁ™óÂè£ÁöÑDOMÔºåÂõ†‰∏∫Ë∑®Ê∫êÂØºËá¥Êä•Èîô„ÄÇ Âèç‰πã‰∫¶ÁÑ∂ÔºåÂ≠êÁ™óÂè£Ëé∑Âèñ‰∏ªÁ™óÂè£ÁöÑDOM‰πü‰ºöÊä•Èîô„ÄÇ 12window.parent.document.body// Êä•Èîô Â¶ÇÊûú‰∏§‰∏™Á™óÂè£‰∏ÄÁ∫ßÂüüÂêçÁõ∏ÂêåÔºåÂè™ÊòØ‰∫åÁ∫ßÂüüÂêç‰∏çÂêåÔºåÈÇ£‰πàËÆæÁΩÆ‰∏ä‰∏ÄËäÇ‰ªãÁªçÁöÑdocument.domainÂ±ûÊÄßÔºåÂ∞±ÂèØ‰ª•ËßÑÈÅøÂêåÊ∫êÁ≠ñÁï•ÔºåÊãøÂà∞DOM„ÄÇ ÂØπ‰∫éÂÆåÂÖ®‰∏çÂêåÊ∫êÁöÑÁΩëÁ´ôÔºåÁõÆÂâçÊúâ‰∏âÁßçÊñπÊ≥ïÔºåÂèØ‰ª•Ëß£ÂÜ≥Ë∑®ÂüüÁ™óÂè£ÁöÑÈÄö‰ø°ÈóÆÈ¢ò„ÄÇ ÁâáÊÆµËØÜÂà´Á¨¶Ôºàfragment identifierÔºâ window.name window.postMessage ¬∂ÁâáÊÆµËØÜÂà´Á¨¶Ôºàfragment identifierÔºâ ÁâáÊÆµÊ†áËØÜÁ¨¶Ôºàfragment identifierÔºâÊåáÁöÑÊòØÔºåURLÁöÑ#Âè∑ÂêéÈù¢ÁöÑÈÉ®ÂàÜÔºåÊØîÂ¶Çhttps://www.a.com/bbb/ccc.html#fragmentÁöÑ#fragment„ÄÇÂ¶ÇÊûúÂè™ÊòØÊîπÂèòÁâáÊÆµÊ†áËØÜÁ¨¶ÔºåÈ°µÈù¢‰∏ç‰ºöÈáçÊñ∞Âà∑Êñ∞„ÄÇ Áà∂Á™óÂè£ÂèØ‰ª•Êää‰ø°ÊÅØÔºåÂÜôÂÖ•Â≠êÁ™óÂè£ÁöÑÁâáÊÆµÊ†áËØÜÁ¨¶„ÄÇ 12var src = originURL + '#' + data;document.getElementById('myIFrame').src = src; Â≠êÁ™óÂè£ÈÄöËøáÁõëÂê¨hashchange‰∫ã‰ª∂ÂæóÂà∞ÈÄöÁü•„ÄÇ 123456window.onhashchange = checkMessage;function checkMessage() &#123; var message = window.location.hash; // ...&#125; ÂêåÊ†∑ÁöÑÔºåÂ≠êÁ™óÂè£‰πüÂèØ‰ª•ÊîπÂèòÁà∂Á™óÂè£ÁöÑÁâáÊÆµÊ†áËØÜÁ¨¶„ÄÇ 1parent.location.href= target + "#" + hash; ¬∂window.name ÊµèËßàÂô®Á™óÂè£Êúâwindow.nameÂ±ûÊÄß„ÄÇËøô‰∏™Â±ûÊÄßÁöÑÊúÄÂ§ßÁâπÁÇπÊòØÔºåÂè™Ë¶ÅÂΩìÂâçÁöÑËøô‰∏™ÊµèËßàÂô®tabÊ≤°ÊúâÂÖ≥Èó≠ÔºåÊó†ËÆ∫tabÂÜÖÁöÑÁΩëÈ°µÂ¶Ç‰ΩïÂèòÂä®ÔºåËøô‰∏™nameÂÄºÈÉΩÂèØ‰ª•‰øùÊåÅÔºåÂπ∂‰∏îtabÂÜÖÁöÑÊØè‰∏™ÁΩëÈ°µÈÉΩÊòØÂèØ‰ª•Êé•Êî∂ÂíåËÆæÁΩÆwindow.nameËøô‰∏™ÂÄºÁöÑ„ÄÇ F5Âà∑Êñ∞Â§öÂ∞ëÊ¨°ÈÉΩÂèØ‰ª•ÔºåËøôÊòØÊó†ÊâÄË∞ìÁöÑ„ÄÇ ‰∏≠Èó¥Ë∑≥ËΩ¨ËøáÂ§öÂ∞ë‰∏™È°µÈù¢ÔºåËøô‰πüÊòØÊó†ÊâÄË∞ìÁöÑ„ÄÇ ÊâøËΩΩËøáÁöÑËøô‰∫õÈ°µÈù¢ÊòØ‰∏çÊòØÂêå‰∏Ä‰∏™ÂüüÂêçÔºåËøôÈÉΩÊòØÊó†ÊâÄË∞ìÁöÑ„ÄÇ ‰∏äËø∞ÁöÑtabÔºåÊîπÊàêiframeÂêåÊ†∑ÂèØË°å„ÄÇ Áà∂Á™óÂè£ÂÖàÊâìÂºÄ‰∏Ä‰∏™Â≠êÁ™óÂè£ÔºåËΩΩÂÖ•‰∏Ä‰∏™‰∏çÂêåÊ∫êÁöÑÁΩëÈ°µÔºåËØ•ÁΩëÈ°µÂ∞Ü‰ø°ÊÅØÂÜôÂÖ•window.nameÂ±ûÊÄß„ÄÇ 12345// Âú®Â≠êÁ™óÂè£‰∏≠ËÆæÁΩÆÂÖ∂window.namewindow.name = data;// Êé•ÁùÄÔºåÂ≠êÁ™óÂè£Ë∑≥Âõû‰∏Ä‰∏™‰∏é‰∏ªÁ™óÂè£ÂêåÂüüÁöÑÁΩëÂùÄ„ÄÇlocation = 'http://parent.url.com/xxx.html'; ÁÑ∂ÂêéÔºå‰∏ªÁ™óÂè£Â∞±ÂèØ‰ª•ËØªÂèñÂ≠êÁ™óÂè£ÁöÑwindow.name‰∫Ü„ÄÇ 12// ‰∏ªÁ™óÂè£‰∏≠var data = document.getElementById('myFrame').contentWindow.name; ËøôÁßçÊñπÊ≥ïÁöÑ‰ºòÁÇπÊòØÔºåwindow.nameÂÆπÈáèÂæàÂ§ßÔºåÂèØ‰ª•ÊîæÁΩÆÈùûÂ∏∏ÈïøÁöÑÂ≠óÁ¨¶‰∏≤ÔºõÁº∫ÁÇπÊòØÂøÖÈ°ªÁõëÂê¨Â≠êÁ™óÂè£window.nameÂ±ûÊÄßÁöÑÂèòÂåñÔºåÂΩ±ÂìçÁΩëÈ°µÊÄßËÉΩ„ÄÇ ¬∂window.postMessage Âú®HTML5‰∏≠Ôºå‰∏∫‰∫ÜÂÆûÁé∞Ë∑®Ê∫êÈÄö‰ø°ÔºåÂºïÂÖ•‰∫Ü‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑAPIÔºöË∑®ÊñáÊ°£ÈÄö‰ø° APIÔºàCross-document messagingÔºâ„ÄÇ Ëøô‰∏™API‰∏∫windowÂØπË±°Êñ∞Â¢û‰∫Ü‰∏Ä‰∏™window.postMessageÊñπÊ≥ïÔºåÂÖÅËÆ∏Ë∑®Á™óÂè£ÈÄö‰ø°Ôºå‰∏çËÆ∫Ëøô‰∏§‰∏™Á™óÂè£ÊòØÂê¶ÂêåÊ∫ê„ÄÇ ÂÖ∂ËØ≠Ê≥ï‰∏∫Ôºö otherWindow.postMessage(message, targetOrigin, [transfer]); otherWindow ÂÖ∂‰ªñÁ™óÂè£ÁöÑ‰∏Ä‰∏™ÂºïÁî®ÔºåÊØîÂ¶ÇiframeÁöÑcontentWindowÂ±ûÊÄß„ÄÅÊâßË°åwindow.openËøîÂõûÁöÑÁ™óÂè£ÂØπË±°„ÄÅÊàñËÄÖÊòØÂëΩÂêçËøáÊàñÊï∞ÂÄºÁ¥¢ÂºïÁöÑwindow.frames„ÄÇ message Â∞ÜË¶ÅÂèëÈÄÅÂà∞ÂÖ∂‰ªñwindowÁöÑÊï∞ÊçÆ„ÄÇËØ•ÂèÇÊï∞ÂèØ‰º†ÂÖ•‰∏Ä‰∏™Object. targetOrigin ÈÄöËøáÁ™óÂè£ÁöÑoriginÂ±ûÊÄßÊù•ÊåáÂÆöÂì™‰∫õÁ™óÂè£ËÉΩÊé•Êî∂Âà∞Ê∂àÊÅØ‰∫ã‰ª∂ÔºåÂÖ∂ÂÄºÂèØ‰ª•ÊòØÂ≠óÁ¨¶‰∏≤*ÔºàË°®Á§∫Êó†ÈôêÂà∂ÔºâÊàñËÄÖ‰∏Ä‰∏™URI„ÄÇÂú®ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÁõÆÊ†áÁ™óÂè£ÁöÑÂçèËÆÆ„ÄÅ‰∏ªÊú∫Âú∞ÂùÄÊàñÁ´ØÂè£Ëøô‰∏âËÄÖÁöÑ‰ªªÊÑè‰∏ÄÈ°π‰∏çÂåπÈÖçtargetOriginÊèê‰æõÁöÑÂÄºÔºåÈÇ£‰πàÊ∂àÊÅØÂ∞±‰∏ç‰ºöË¢´ÂèëÈÄÅÔºõÂè™Êúâ‰∏âËÄÖÂÆåÂÖ®ÂåπÈÖçÔºåÊ∂àÊÅØÊâç‰ºöË¢´ÂèëÈÄÅ„ÄÇËøô‰∏™Êú∫Âà∂Áî®Êù•ÊéßÂà∂Ê∂àÊÅØÂèØ‰ª•ÂèëÈÄÅÂà∞Âì™‰∫õÁ™óÂè£Ôºõ‰æãÂ¶ÇÔºåÂΩìÁî®postMessage‰º†ÈÄÅÂØÜÁ†ÅÊó∂ÔºåËøô‰∏™ÂèÇÊï∞Â∞±ÊòæÂæóÂ∞§‰∏∫ÈáçË¶ÅÔºåÂøÖÈ°ª‰øùËØÅÂÆÉÁöÑÂÄº‰∏éËøôÊù°ÂåÖÂê´ÂØÜÁ†ÅÁöÑ‰ø°ÊÅØÁöÑÈ¢ÑÊúüÊé•ÂèóËÄÖÁöÑoriginÂ±ûÊÄßÂÆåÂÖ®‰∏ÄËá¥ÔºåÊù•Èò≤Ê≠¢ÂØÜÁ†ÅË¢´ÊÅ∂ÊÑèÁöÑÁ¨¨‰∏âÊñπÊà™Ëé∑„ÄÇÂ¶ÇÊûú‰Ω†ÊòéÁ°ÆÁöÑÁü•ÈÅìÊ∂àÊÅØÂ∫îËØ•ÂèëÈÄÅÂà∞Âì™‰∏™Á™óÂè£ÔºåÈÇ£‰πàËØ∑ÂßãÁªàÊèê‰æõ‰∏Ä‰∏™ÊúâÁ°ÆÂàáÂÄºÁöÑtargetOriginÔºåËÄå‰∏çÊòØ*„ÄÇ‰∏çÊèê‰æõÁ°ÆÂàáÁöÑÁõÆÊ†áÂ∞ÜÂØºËá¥Êï∞ÊçÆÊ≥ÑÈú≤Âà∞‰ªª‰ΩïÂØπÊï∞ÊçÆÊÑüÂÖ¥Ë∂£ÁöÑÊÅ∂ÊÑèÁ´ôÁÇπ„ÄÇ transfer ÂèØÈÄâ ÊòØ‰∏Ä‰∏≤ÂíåmessageÂêåÊó∂‰º†ÈÄíÁöÑTransferableÂØπË±°. Ëøô‰∫õÂØπË±°ÁöÑÊâÄÊúâÊùÉÂ∞ÜË¢´ËΩ¨ÁßªÁªôÊ∂àÊÅØÁöÑÊé•Êî∂ÊñπÔºåËÄåÂèëÈÄÅ‰∏ÄÊñπÂ∞Ü‰∏çÂÜç‰øùÊúâÊâÄÊúâÊùÉ„ÄÇ ‰∏æ‰æãÊù•ËØ¥ÔºåÁà∂Á™óÂè£http://a.comÂêëÂ≠êÁ™óÂè£http://b.comÂèëÊ∂àÊÅØÔºåË∞ÉÁî®postMessageÊñπÊ≥ïÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ 123// Áà∂Á™óÂè£‰∏≠var popup = window.open('http://b.com', 'title');popup.postMessage('Hello World!', 'http://b.com'); Â≠êÁ™óÂè£ÂêëÁà∂Á™óÂè£ÂèëÈÄÅÊ∂àÊÅØÁöÑÂÜôÊ≥ïÁ±ª‰ºº„ÄÇ 12// Â≠êÁ™óÂè£‰∏≠window.opener.postMessage('I get!', 'http://a.com'); Áà∂Á™óÂè£ÂíåÂ≠êÁ™óÂè£ÈÉΩÂèØ‰ª•ÈÄöËøámessage‰∫ã‰ª∂ÔºåÁõëÂê¨ÂØπÊñπÁöÑÊ∂àÊÅØ„ÄÇ 123window.addEventListener('message', function(event) &#123; console.log(event.data);&#125;, false); message‰∫ã‰ª∂ÁöÑ‰∫ã‰ª∂ÂØπË±°eventÔºåÊèê‰æõ‰ª•‰∏ã‰∏â‰∏™Â±ûÊÄß„ÄÇ event.sourceÔºöÂØπÂèëÈÄÅÊ∂àÊÅØÁöÑÁ™óÂè£ÂØπË±°ÁöÑÂºïÁî®ÔºõÂèØ‰ª•‰ΩøÁî®Ê≠§Êù•Âú®ÂÖ∑Êúâ‰∏çÂêåoriginÁöÑ‰∏§‰∏™Á™óÂè£‰πãÈó¥Âª∫Á´ãÂèåÂêëÈÄö‰ø°„ÄÇ event.originÔºöË∞ÉÁî®postMessageÊó∂Ê∂àÊÅØÂèëÈÄÅÊñπÁ™óÂè£ÁöÑorigin„ÄÇËøô‰∏™Â≠óÁ¨¶‰∏≤Áî±ÂçèËÆÆ„ÄÅ://„ÄÅÂüüÂêç„ÄÅ:Á´ØÂè£Âè∑ÊãºÊé•ËÄåÊàê„ÄÇËøô‰∏™origin‰∏çËÉΩ‰øùËØÅÊòØËØ•Á™óÂè£ÁöÑÂΩìÂâçÊàñÊú™Êù•originÔºåÂõ†‰∏∫postMessageË¢´Ë∞ÉÁî®ÂêéÂèØËÉΩË¢´ÂØºËà™Âà∞‰∏çÂêåÁöÑ‰ΩçÁΩÆ„ÄÇ event.dataÔºö‰ªéÂÖ∂‰ªñwindow‰∏≠‰º†ÈÄíËøáÊù•ÁöÑÊ∂àÊÅØÂÜÖÂÆπÂØπË±°„ÄÇ Â≠êÁ™óÂè£ÂèØ‰ª•ÈÄöËøáevent.sourceÂ±ûÊÄßÂºïÁî®Áà∂Á™óÂè£ÔºåÁÑ∂ÂêéÂèëÈÄÅÊ∂àÊÅØ„ÄÇ 12345// Â≠êÁ™óÂè£‰∏≠window.addEventListener('message', receiveMessage);function receiveMessage(event) &#123; event.source.postMessage('Nice to see you!', '*');&#125; event.originÂ±ûÊÄßÂèØ‰ª•ËøáÊª§‰∏çÊòØÂèëÁªôÊú¨Á™óÂè£ÁöÑÊ∂àÊÅØ„ÄÇ 123456789window.addEventListener('message', receiveMessage);function receiveMessage(event) &#123; if (event.origin !== 'http://aaa.com') return; if (event.data === 'Hello World') &#123; event.source.postMessage('Hello', event.origin); &#125; else &#123; console.log(event.data); &#125;&#125; Ê≥®ÊÑèÔºö‰ªª‰ΩïÁ™óÂè£ÂèØ‰ª•Âú®‰ªª‰ΩïÂÖ∂‰ªñÁ™óÂè£ËÆøÈóÆÊ≠§ÊñπÊ≥ïÔºåÂú®‰ªª‰ΩïÊó∂Èó¥ÔºåÊó†ËÆ∫ÊñáÊ°£Âú®Á™óÂè£‰∏≠ÁöÑ‰ΩçÁΩÆÔºåÂêëÂÖ∂ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ Âõ†Ê≠§ÔºåÁî®‰∫éÊé•Êî∂Ê∂àÊÅØÁöÑ‰ªª‰Ωï‰∫ã‰ª∂ÁõëÂê¨Âô®ÂøÖÈ°ªÈ¶ñÂÖà‰ΩøÁî®originÂíåsourceÂ±ûÊÄßÊù•Ê£ÄÊü•Ê∂àÊÅØÁöÑÂèëÈÄÅËÄÖÁöÑË∫´‰ªΩ„ÄÇÊó†Ê≥ïÊ£ÄÊü•originÂíåsourceÂ±ûÊÄß‰ºöÂØºËá¥Ë∑®Á´ôÁÇπËÑöÊú¨ÊîªÂáª„ÄÇ Âõ†‰∏∫Êúâ‰∫Üwindow.postMessageÔºåËØªÂÜôÂÖ∂‰ªñÁ™óÂè£ÁöÑLocalStorage‰πüÊàê‰∏∫‰∫ÜÂèØËÉΩ„ÄÇ ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰æãÂ≠êÔºå‰∏ªÁ™óÂè£ÂÜôÂÖ•iframeÂ≠êÁ™óÂè£ÁöÑlocalStorage„ÄÇ 12345678// Â≠êÁ™óÂè£‰∏≠window.onmessage = function(e) &#123; if (e.origin !== 'http://aaa.com') &#123; return; &#125; var payload = JSON.parse(e.data); localStorage.setItem(payload.key, JSON.stringify(payload.data));&#125;; ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÂ≠êÁ™óÂè£Â∞ÜÁà∂Á™óÂè£ÂèëÊù•ÁöÑÊ∂àÊÅØÔºåÂÜôÂÖ•Ëá™Â∑±ÁöÑlocalStorage„ÄÇ Áà∂Á™óÂè£ÂèëÈÄÅÊ∂àÊÅØÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ã 123var win = document.getElementsByTagName('iframe')[0].contentWindow;var obj = &#123; name: 'Jack' &#125;;win.postMessage(JSON.stringify(&#123;key: 'storage', data: obj&#125;), 'http://bbb.com'); Âä†Âº∫ÁâàÁöÑÂ≠êÁ™óÂè£Êé•Êî∂Ê∂àÊÅØÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ã 1234567891011121314151617window.onmessage = function(e) &#123; if (e.origin !== 'http://aaa.com') return; var payload = JSON.parse(e.data); switch (payload.method) &#123; case 'set': localStorage.setItem(payload.key, JSON.stringify(payload.data)); break; case 'get': var parent = window.parent; var data = localStorage.getItem(payload.key); parent.postMessage(data, 'http://aaa.com'); break; case 'remove': localStorage.removeItem(payload.key); break; &#125;&#125;; Âä†Âº∫ÁâàÁöÑÁà∂Á™óÂè£ÂèëÈÄÅÊ∂àÊÅØ‰ª£Á†ÅÂ¶Ç‰∏ã 1234567891011var win = document.getElementsByTagName('iframe')[0].contentWindow;var obj = &#123; name: 'Jack' &#125;;// Â≠òÂÖ•ÂØπË±°win.postMessage(JSON.stringify(&#123;key: 'storage', method: 'set', data: obj&#125;), 'http://bbb.com');// ËØªÂèñÂØπË±°win.postMessage(JSON.stringify(&#123;key: 'storage', method: 'get'&#125;), 'http://bbb.com');window.onmessage = function(e) &#123; if (e.origin != 'http://bbb.com') return; // "Jack" console.log(JSON.parse(e.data).name);&#125;; AJAX ÂêåÊ∫êÁ≠ñÁï•ËßÑÂÆöÔºåAJAXËØ∑Ê±ÇÂè™ËÉΩÂèëÁªôÂêåÊ∫êÁöÑÁΩëÂùÄÔºåÂê¶ÂàôÂ∞±Êä•Èîô„ÄÇ ËßÑÈÅøËøô‰∏™ÈôêÂà∂Êúâ‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ïÔºö ‰ΩøÁî®FlashÊèí‰ª∂ÂèëÈÄÅHTTPËØ∑Ê±Ç Êû∂ËÆæÊúçÂä°Âô®‰ª£ÁêÜ JSONP WebSocket CORS ¬∂‰ΩøÁî®FlashÊèí‰ª∂ÂèëÈÄÅHTTPËØ∑Ê±Ç ËøôÁßçÊñπÂºèÂèØ‰ª•ÁªïËøáÊµèËßàÂô®ÁöÑÂÆâÂÖ®ÈôêÂà∂Ôºå‰ΩÜÂøÖÈ°ªÂÆâË£ÖFlashÔºåÂπ∂‰∏îË∑üFlash‰∫§‰∫í„ÄÇ‰∏çËøáFlashÁî®Ëµ∑Êù•È∫ªÁÉ¶ÔºåËÄå‰∏îÁé∞Âú®Áî®Âæó‰πüË∂äÊù•Ë∂äÂ∞ë‰∫Ü„ÄÇ ¬∂Êû∂ËÆæÊúçÂä°Âô®‰ª£ÁêÜ Âú®ÂêåÊ∫êÂüüÂêç‰∏ãÊû∂ËÆæ‰∏Ä‰∏™‰ª£ÁêÜÊúçÂä°Âô®Êù•ËΩ¨ÂèëÔºåJavaScriptË¥üË¥£ÊääËØ∑Ê±ÇÂèëÈÄÅÂà∞‰ª£ÁêÜÊúçÂä°Âô®Ôºö 1'/proxy?url=http://www.sina.com.cn' ‰ª£ÁêÜÊúçÂä°Âô®ÂÜçÊääÁªìÊûúËøîÂõûÔºåËøôÊ†∑Â∞±ÈÅµÂÆà‰∫ÜÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï•„ÄÇËøôÁßçÊñπÂºèÈ∫ªÁÉ¶‰πãÂ§ÑÂú®‰∫éÈúÄË¶ÅÊúçÂä°Âô®Á´ØÈ¢ùÂ§ñÂÅöÂºÄÂèë„ÄÇ ¬∂JSONP JSONPÊòØÊúçÂä°Âô®‰∏éÂÆ¢Êà∑Á´ØË∑®Ê∫êÈÄö‰ø°ÁöÑÂ∏∏Áî®ÊñπÊ≥ï„ÄÇÊúÄÂ§ßÁâπÁÇπÂ∞±ÊòØÁÆÄÂçïÈÄÇÁî®ÔºåËÄÅÂºèÊµèËßàÂô®ÂÖ®ÈÉ®ÊîØÊåÅÔºåÊúçÂä°Âô®ÊîπÈÄ†ÈùûÂ∏∏Â∞è„ÄÇ ÂÆÉÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÊòØÔºåÁΩëÈ°µÈÄöËøáÊ∑ªÂä†‰∏Ä‰∏™&lt;script&gt;Ê†áÁ≠æÔºåÂêëÊúçÂä°Âô®ËØ∑Ê±ÇJSONÊï∞ÊçÆÔºåËøôÁßçÂÅöÊ≥ï‰∏çÂèóÂêåÊ∫êÁ≠ñÁï•ÈôêÂà∂ÔºõÊúçÂä°Âô®Êî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂ∞ÜÊï∞ÊçÆÊîæÂú®‰∏Ä‰∏™ÊåáÂÆöÂêçÂ≠óÁöÑÂõûË∞ÉÂáΩÊï∞Èáå‰º†ÂõûÊù•„ÄÇÂÆÉÊúâ‰∏™ÈôêÂà∂ÔºåÂè™ËÉΩÁî®GETËØ∑Ê±ÇÔºåÂπ∂‰∏îË¶ÅÊ±ÇËøîÂõûJavaScript„ÄÇÔºàÂõ†‰∏∫&lt;script&gt;Ê†áÁ≠æÂè™ËÉΩ‰ΩøÁî®GETÂä†ËΩΩËµÑÊ∫êÔºâ JSONPÈÄöÂ∏∏‰ª•ÂáΩÊï∞Ë∞ÉÁî®ÁöÑÂΩ¢ÂºèËøîÂõû„ÄÇ‰æãÂ¶ÇÔºåË∞ÉÁî®Êüê‰∏ÄÊé•Âè£ÔºåËøîÂõûJavaScriptÂÜÖÂÆπÂ¶Ç‰∏ãÔºö 1foo(&#123;test: "hello"&#125;); Âõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÈ¶ñÂÖàÂú®È°µÈù¢‰∏≠ÂáÜÂ§áÂ•ΩÂõûË∞ÉÂáΩÊï∞Ôºö 1234function foo(data)&#123; alert(data.test); // ...&#125; ÁÑ∂ÂêéË∞ÉÁî®Âè¶‰∏ÄÂáΩÊï∞getData()Ëß¶ÂèëÔºö 12345function getPrice() &#123; var script = document.createElement('script'); script.src = 'http://api.a.com/?callback=foo'; // Ê≥®ÊÑèÔºåËØ•ËØ∑Ê±ÇÁöÑÊü•ËØ¢Â≠óÁ¨¶‰∏≤Êúâ‰∏Ä‰∏™callbackÂèÇÊï∞ÔºåÁî®Êù•ÊåáÂÆöÂõûË∞ÉÂáΩÊï∞ÁöÑÂêçÂ≠óÔºåËøôÂØπ‰∫éJSONPÊòØÂøÖÈúÄÁöÑ„ÄÇ‰∏ÄËà¨ÂèÇÊï∞ÂêçÁî±APIÊé•Âè£Á°ÆÂÆöÔºåÂ∏∏Áî®‰∏∫callback„ÄÇ document.body.appendChild(script);&#125; Áî±‰∫é&lt;script&gt;Ê†áÁ≠æËØ∑Ê±ÇÁöÑËÑöÊú¨ÔºåÁõ¥Êé•‰Ωú‰∏∫‰ª£Á†ÅËøêË°å„ÄÇËøôÊó∂ÔºåÂè™Ë¶ÅÊµèËßàÂô®ÂÆö‰πâ‰∫ÜfooÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Â∞±‰ºöÁ´ãÂç≥Ë∞ÉÁî®„ÄÇ‰Ωú‰∏∫ÂèÇÊï∞ÁöÑJSONÊï∞ÊçÆË¢´ËßÜ‰∏∫JavaScriptÂØπË±°ÔºåËÄå‰∏çÊòØÂ≠óÁ¨¶‰∏≤ÔºåÂõ†Ê≠§ÈÅøÂÖç‰∫Ü‰ΩøÁî®JSON.parseÁöÑÊ≠•È™§„ÄÇ ¬∂WebSocket WebSocketÊòØ‰∏ÄÁßçÈÄö‰ø°ÂçèËÆÆÔºå‰ΩøÁî®ws://ÔºàÈùûÂä†ÂØÜÔºâÂíåwss://ÔºàÂä†ÂØÜÔºâ‰Ωú‰∏∫ÂçèËÆÆÂâçÁºÄ„ÄÇËØ•ÂçèËÆÆ‰∏çÂÆûË°åÂêåÊ∫êÁ≠ñÁï•ÔºåÂè™Ë¶ÅÊúçÂä°Âô®ÊîØÊåÅÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáÂÆÉËøõË°åË∑®Ê∫êÈÄö‰ø°„ÄÇ ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰æãÂ≠êÔºåÊµèËßàÂô®ÂèëÂá∫ÁöÑWebSocketËØ∑Ê±ÇÁöÑÂ§¥‰ø°ÊÅØÔºàÊëòËá™Áª¥Âü∫ÁôæÁßëÔºâ„ÄÇ 12345678GET /chat HTTP/1.1Host: server.example.comUpgrade: websocketConnection: UpgradeSec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==Sec-WebSocket-Protocol: chat, superchatSec-WebSocket-Version: 13Origin: http://example.com ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊúâ‰∏Ä‰∏™Â≠óÊÆµÊòØOriginÔºåË°®Á§∫ËØ•ËØ∑Ê±ÇÁöÑËØ∑Ê±ÇÊ∫êÔºàoriginÔºâÔºåÂç≥ÂèëËá™Âì™‰∏™ÂüüÂêç„ÄÇ Ê≠£ÊòØÂõ†‰∏∫Êúâ‰∫ÜOriginËøô‰∏™Â≠óÊÆµÔºåÊâÄ‰ª•WebSocketÊâçÊ≤°ÊúâÂÆûË°åÂêåÊ∫êÁ≠ñÁï•„ÄÇÂõ†‰∏∫ÊúçÂä°Âô®ÂèØ‰ª•Ê†πÊçÆËøô‰∏™Â≠óÊÆµÔºåÂà§Êñ≠ÊòØÂê¶ËÆ∏ÂèØÊú¨Ê¨°ÈÄö‰ø°„ÄÇÂ¶ÇÊûúËØ•ÂüüÂêçÂú®ÁôΩÂêçÂçïÂÜÖÔºåÊúçÂä°Âô®Â∞±‰ºöÂÅöÂá∫Â¶Ç‰∏ãÂõûÂ∫î„ÄÇ 12345HTTP/1.1 101 Switching ProtocolsUpgrade: websocketConnection: UpgradeSec-WebSocket-Accept: HSmrc0sMlYUkAGmm5OPpG2HaGWk=Sec-WebSocket-Protocol: chat ¬∂CORS CORSÂÖ®Áß∞Cross-Origin Resource SharingÔºåÊòØHTML5ËßÑËåÉÂÆö‰πâÁöÑÂ¶Ç‰ΩïË∑®ÂüüËÆøÈóÆËµÑÊ∫êÔºåÊòØË∑®Ê∫êAJAXËØ∑Ê±ÇÁöÑÊ†πÊú¨Ëß£ÂÜ≥ÊñπÊ≥ï„ÄÇÁõ∏ÊØîJSONPÂè™ËÉΩÂèëGETËØ∑Ê±ÇÔºåCORSÂÖÅËÆ∏‰ªª‰ΩïÁ±ªÂûãÁöÑËØ∑Ê±Ç„ÄÇ OriginË°®Á§∫Êú¨ÂüüÔºå‰πüÂ∞±ÊòØÊµèËßàÂô®ÂΩìÂâçÈ°µÈù¢ÁöÑÂüü„ÄÇÂΩìJavaScriptÂêëÂ§ñÂüüÔºàÂ¶Çsina.comÔºâÂèëËµ∑ËØ∑Ê±ÇÂêéÔºåÊµèËßàÂô®Êî∂Âà∞ÂìçÂ∫îÂêéÔºåÈ¶ñÂÖàÊ£ÄÊü•Access-Control-Allow-OriginÊòØÂê¶ÂåÖÂê´Êú¨ÂüüÔºåÂ¶ÇÊûúÊòØÔºåÂàôÊ≠§Ê¨°Ë∑®ÂüüËØ∑Ê±ÇÊàêÂäüÔºåÂ¶ÇÊûú‰∏çÊòØÔºåÂàôËØ∑Ê±ÇÂ§±Ë¥•ÔºåJavaScriptÂ∞ÜÊó†Ê≥ïËé∑ÂèñÂà∞ÂìçÂ∫îÁöÑ‰ªª‰ΩïÊï∞ÊçÆ„ÄÇ ËØ¶ÁªÜÁöÑ‰ªãÁªçÔºåÂèØ‰ª•ÂèÇËÄÉÊ≠§Êñá ÂèÇËÄÉ ÊµèËßàÂô®ÂêåÊ∫êÊîøÁ≠ñÂèäÂÖ∂ËßÑÈÅøÊñπÊ≥ï - ÈòÆ‰∏ÄÂ≥∞ ÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï• - MDN window.postMessage - MDN window.name Ë∑®ÂüüÈöêÂºè‰º†ÈÄíÊ∂àÊÅØÂéüÁêÜËß£Êûê - ËãèÂçóÂ§ßÂèî AJAX - ÂªñÈõ™Â≥∞]]></content>
      <tags>
        <tag>ÂêåÊ∫êÁ≠ñÁï•</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
</search>
